(self.webpackChunkncippe_front_end=self.webpackChunkncippe_front_end||[]).push([[179],{"./src/stories/Introduction.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page},default:function(){return Introduction_stories}});__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),blocks=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");var code_brackets=__webpack_require__.p+"static/media/code-brackets.2e1112d71f1a3ba28d2461481dce689b.svg";var colors=__webpack_require__.p+"static/media/colors.a4bd0486703b41f28ac9ef49d8046942.svg";var comments=__webpack_require__.p+"static/media/comments.a38590896b951b65e7ada9af32d6915d.svg";var direction=__webpack_require__.p+"static/media/direction.b770f9af5f20abac0352e73b4676bba2.svg";var flow=__webpack_require__.p+"static/media/flow.edad2ac1b0bb28e0ce513d5b7a65f8fe.svg";var icons_plugin=__webpack_require__.p+"static/media/plugin.d494b22808806ebe8ff4c5b276819e72.svg";var repo=__webpack_require__.p+"static/media/repo.6d4963229d067828d1326ea3f60f5136.svg";var stackalt=__webpack_require__.p+"static/media/stackalt.dba9fbb33e1e5daf57e0cf575f818e65.svg";__webpack_require__("./src/stories/assets/css/storybook.css");function Introduction_stories_extends(){return Introduction_stories_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Introduction_stories_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,esm.kt)("wrapper",Introduction_stories_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,esm.kt)(blocks.h_,{title:"Introduction",mdxType:"Meta"}),(0,esm.kt)("h1",null,"Welcome to NCI Biobank documentation"),(0,esm.kt)("p",null,"This site was built using the ",(0,esm.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," front-end library and ",(0,esm.kt)("a",{parentName:"p",href:"https://github.com/facebook/create-react-app"},"Create React App")," as the foundation. The ",(0,esm.kt)("a",{parentName:"p",href:"https://material-ui.com/"},"Material-UI")," component library is also a core package for this site. Our custom components are integrated with Material-UI components and we make use of Material-UI's styling solution. We've implemented ",(0,esm.kt)("a",{parentName:"p",href:"https://react.i18next.com/"},"react-i18next")," to support language translations, and currently support both English and Spanish languages. All of these features come together to create a fully responsive, accessible and performant single page application (SPA)."),(0,esm.kt)("p",null,"This documentation site is powered by ",(0,esm.kt)("a",{parentName:"p",href:"https://storybook.js.org"},"Storybook"),". Storybook helps us build UI components in isolation from our app's business logic, data, and context.\nThat makes it easy to develop hard-to-reach states. Save these UI states as ",(0,esm.kt)("strong",{parentName:"p"},"stories")," to revisit during development, testing, or QA. Browse stories now by navigating to them in the sidebar."),(0,esm.kt)("div",{class:"subheading"},"Front End Architectural Features"),(0,esm.kt)("div",{class:"link-list"},(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-build-configurations--page"},(0,esm.kt)("img",{src:stackalt,alt:"Build"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Build configuration"),"How to run the Biobank site in `Dev` mode and create `Prod` builds")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-included-packages--page"},(0,esm.kt)("img",{src:icons_plugin,alt:"plugin"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Included Packages"),"What's included in this project and why")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-styling--page"},(0,esm.kt)("img",{src:colors,alt:"colors"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Styling"),"How to configure, edit and maintain the CSS")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-data--page"},(0,esm.kt)("img",{src:flow,alt:"flow"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Data"),"Data structures and mocking data for development")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-translations--page"},(0,esm.kt)("img",{src:flow,alt:"flow"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Translations"),"Supporting internationalization")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-analytics--page"},(0,esm.kt)("img",{src:flow,alt:"flow"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Analytics"),"Tracking how the site is used and reporting")),(0,esm.kt)("a",{class:"link-item",href:"?path=/docs/architecture-utilities--page"},(0,esm.kt)("img",{src:flow,alt:"flow"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Utilities"),"Tools made to help with developing assets or processing data"))),(0,esm.kt)("div",{class:"subheading"},"Learn"),(0,esm.kt)("div",{class:"link-list"},(0,esm.kt)("a",{class:"link-item",href:"https://storybook.js.org/docs",target:"_blank"},(0,esm.kt)("img",{src:repo,alt:"repo"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Storybook documentation"),"Used to build this site documentation")),(0,esm.kt)("a",{class:"link-item",href:"https://reactjs.org/",target:"_blank"},(0,esm.kt)("img",{src:direction,alt:"direction"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"React"),"A JavaScript library for building user interfaces")),(0,esm.kt)("a",{class:"link-item",href:"https://material-ui.com/",target:"_blank"},(0,esm.kt)("img",{src:code_brackets,alt:"code"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"Material-UI"),"React components for faster and easier web development.")),(0,esm.kt)("a",{class:"link-item",href:"https://github.com/typicode/json-server",target:"_blank"},(0,esm.kt)("img",{src:comments,alt:"comments"}),(0,esm.kt)("span",null,(0,esm.kt)("strong",null,"JSON Server"),"Get a full fake REST API with zero coding"))))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,esm.kt)(dist_esm.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,esm.kt)(MDXContent,null))};var Introduction_stories=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/Analytics.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Analytics",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Analytics"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The site uses ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/analytics/implementation/home.html?lang=en"},"Adobe Analytics")," for tracking data and building metrics for site performance. The core file is available at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/public/assets/analytics/AppMeasurement.js"),". This file is loaded on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/public/index.html")," page. The App uses ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://github.com/nytimes/react-tracking"},"react-tracking")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://github.com/mroderick/PubSubJS"},"pubsub-js")," to capture and report analytics events."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The App component sets up the events to be dispatched to AppMeasurements which is either a 'pageview' event, a 'link click' event or a 'generic link tracking' event. Generic link tracking is enabled for all links and buttons inside the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"#main")," page container. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"PubSub")," is used to report tracking events in order to decouple components from the App component. This allows us to write stories for individual components and makes them more testable. The pubsub event will provide additional details of the event being tracked, which are then concatenated with other common event details (set up in the App component) before being reported to Adobe."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The App component is only subscribed to events specifically named ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"ANALYTICS"),". This is required when publishing an event and is the first argument of the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"publish()")," method."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"A common example of a pubsub event can be found in the footer component:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-JavaScript"},"  const trackClick = (e) => {\n    if(e.target.matches('a')) {\n      PubSub.publish('ANALYTICS', {\n        events: 'event16',\n        eventName: 'FooterLink',\n        prop53: `BioBank_FooterNav|${e.target.textContent}`,\n        eVar53: `BioBank_FooterNav|${e.target.textContent}`,\n      })\n    }\n  }\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Analytics",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/BuildConfig.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Build Configurations",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Build Configurations"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"This site was built out to a few different environments for development, testing and production before finally landing on NIH's servers. In order to accommodate different target environment, the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"env-cmd")," module was employed. This file contains all the environment variables for the different targets. The build environments are also used to switch up some modules between development and production modes. "),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"App"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The easiest way to toggle between DEV mode and PROD mode was to switch out the main App component based on the target environment. There is both an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"App.js")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"App_dev.js"),". The main difference between these components is that the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"App_dev.js")," file will import the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"AuthProvider")," component that is used to mock login functionality. This makes it easy to quickly switch between different user roles. The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"AuthProvider")," component was originally used to provide 2FA through ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://login.gov/"},"login.gov")," but this was later replaced by NIH's Single Sign On service."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Routes"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"There are router files for both DEV and PROD located inside the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/routers")," folder. These are picked in the App component based on the environment. The difference between these two files is mostly tied to authenticating mock users and verification for private routes."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Page Wrapper"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The DEV ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"pageWrapper")," simply provides a button to easily switch between mock users."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Footer Build Tag"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"In the footer you may notice this code:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-JavaScript"},'{process.env.REACT_APP_GIT_BRANCH_TAG === "true" && <GitBadge />}\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"This was an attempt to render the current branch name to the footer for testing environments. However, this does not seem to work any longer using NIH's Jenkins platform. It still works in the local dev environment though."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"PWA Fail"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Create React App has a great feature that can easily turn your Single Page App into a Progressive Web App. This has many benefits on mobile devices and allows your site to run almost like a native app in a browser container. Unfortunately, the aggressive caching of the PWA service worker interferes with NIH's login platform. Because of this we had to turn off the PWA features. Please do not enable the service worker on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"index.js")," page."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Build Configurations",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/Data.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Data",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Data"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The main feature of the Moonshot Biobank site is the patient portal, which deals with protected patient data. In order to develop the site without using any real patient data, mock data has been created to mimic the data provided by NCI. At the start of the project, or while developing features, often the backend work to create new data endpoints is happening in tandem with the front-end updates to render the data. In order to provide a development environment where the front-end was not dependent on back-end apis being completely ready, a mock server has been stood up using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"json-server")," to provide the mock data. So everything is nicely contained in the front-end project."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Mock Data and Mock Server"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"When running ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"npm run dev")," the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"json-server")," is started on port ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"5000")," before the react app starts up. Inside the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/server")," folder are some middleware files. These are used to manipulate the mock-data so it more accurately matches what is coming back from the PROD server api. The mock data file is located at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/data/mockData.json"),". "),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"While interacting with the site, the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"json-server")," will write updates to this file. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("strong",{parentName:"p"},"DO not check-in changes to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"strong"},"mockData.json")," to source control"),". The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"mockData.json"),' file is considered the "start point" for the app and functional tests. If you need to reset the app, simply revert the changes made to this file. Only manual changes made to support new features or tests should be checked in.'),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"API endpoint"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The api endpoints for all CRUD operations are located in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/data"),". Depending on the environment being run, the app will either select the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"api.js")," file in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"local")," or the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"prod")," folder. This is based on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"process.env.REACT_APP_API_PATH")," environment variable setting in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/.env-cmdrc")," file. Both ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"api.js")," files return an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"api")," object with the same methods, but the methods themselves are tuned to communicate with the mock server or the prod server. The dev ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"api.js")," file has some extra debugging logs and does a bit more work to mimic data that comes from PROD. The important things that must remain consistent between these two files is the exposed methods have the same names, accept the same arguments and have the same return data structures."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Connecting to the API"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"In order to switch between the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("strong",{parentName:"p"},"PROD")," and the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("strong",{parentName:"p"},"DEV")," api, we make use of dynamic imports. Dynamic imports use Promises to resolve the module being requested. Using the API in a component would look like this:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-JavaScript"},"import getAPI from '../../data'\n...\nuseEffect(() => {\n  getAPI.then(api => {\n    const userData = api.fetchUser({uuid})\n  }\n},[])\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Or using await"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-JavaScript"},"import getAPI from '../../data'\n...\nuseEffect(() => {\n  const user = await getAPI.then(api => {\n    return api.fetchUser({uuid})\n  })\n},[])\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Data",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/Packages.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Included Packages",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Included Packages"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Below is the listing of all npm packages installed by the site and a brief description of their purpose."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("table",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("thead",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"thead"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("th",{parentName:"tr",align:"left"},"Package"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tbody",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/mui-org/material-ui"},"@material-ui/core")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"React components based on ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://material.io/design"},"Material Design"),". This package is used as the foundation for most of our custom components. This package includes ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/mui-org/material-ui/tree/next/packages/material-ui-styles"},"@material-ui/styles/"),", which is a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"CSS-in-JS")," solution that implements ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://cssinjs.org/?v=v10.5.0"},"JSS"),". With ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"@material-ui/styles/")," we were able to developed a custom visual theme for this project. See ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"/?path=/docs/architecture-styling--page"},"Styling")," for more details.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/mui-org/material-ui/tree/next/packages/material-ui-icons"},"@material-ui/icons")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package provides the Google ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://material.io/tools/icons/"},"Material icons")," packaged as a set of React components. This is used for some of our iconogrophy, but most of our icons were custom made and reside in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"/public/assets/icons")," folder")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/mui-org/material-ui/tree/next/packages/material-ui-lab"},"@material-ui/lab")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package hosts the incubator components that are not yet ready to move to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"@material-ui/core"),". We are using only the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://material-ui.com/components/toggle-button/"},"Toggle Button")," component from this package.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://reach.tech/router/"},"@reach/router")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},'Reach Router is a small, simple router for React that has a small footprint, supports only simple route patterns by design, and has strong accessibility features. This is used to switch between "pages" in our Single Page App (SPA). This router was selected over ',(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://reactrouter.com/"},"React Router")," because it was easier to integrate with our OIDC client for user authentication. However, we later switched to NIH's Site Minder SSO for user authentication.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/zloirock/core-js#readme"},"core-js")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This library includes ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://remysharp.com/2010/10/08/what-is-a-polyfill#:~:text=A%20polyfill%2C%20or%20polyfiller%2C%20is,API%20landscape%20if%20you%20will."},"polyfills")," for ECMAscript up to 2021. This is needed to mimic new JavaScript features in older web browsers.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/toddbluhm/env-cmd#readme"},"env-cmd")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package is used to provide environment variables based on build configurations. We've create a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},".env-cmdrc")," file with an array of variables based on our different server tiers, such as ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"Development"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"Testing"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"Staging"),", and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"Production"),". This enables us to use non-Production assets for development and testing work, such as logins, development API's, and dummy user data")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/i18next/i18next"},"i18next")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"i18next is a very popular internationalization framework for javascript environments. This allows us to support multiple languages for the site.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/i18next/i18next-browser-languageDetector"},"i18next-browser-languagedetector")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This is a i18next language detection plugin used to auto-detect the user's default language in the browser.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/i18next/i18next-xhr-backend"},"i18next-xhr-backend")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This is a simple i18next backend to be used in the browser. It will load language resources from a backend server using the xhr API.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/typicode/json-server"},"json-server")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Used to create a fake REST API for back-end prototyping and mocking. Used for all front-end dev work. Run it with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"npm run dev-server"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/olivernn/lunr.js"},"lunr")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},'A client-side faceted search engine used on the Search page. "A bit like Solr, but much smaller and not as bright."')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/moment/momentjs.com"},"moment")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This packages allows for easy handling of timestamps and localizations for date formats.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/CBIIT/ncippe-content"},"ncippe-content`")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This repo contains the multilingual content for the site. This project was built to support ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://www.codeandweb.com/babeledit"},"Babel Edit")," as the translation manager of choice.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/IdentityModel/oidc-client-js"},"oidc-client")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Library to provide OpenID Connect (OIDC) and OAuth2 protocol support for client-side, browser-based JavaScript client applications. Also included is support for user session and access token management. This library is now only used in development to authenticate mock user roles.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/facebook/prop-types"},"prop-types")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Runtime type checking for React props")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/mroderick/PubSubJS"},"pubsub-js")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"PubSubJS is a topic-based publish/subscribe library written in JavaScript. This is mostly used to decouple analytics events from components.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/sindresorhus/query-string"},"query-string")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Parse and stringify URL query strings. Mostly used by the api component to prep data being sent to the server.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/facebook/react"},"react")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"React is an open source JavaScript library used for designing user interfaces.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://www.npmjs.com/package/react-dom"},"react-dom")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package serves as the entry point to the DOM and server renderers for React.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/staylor/react-helmet-async"},"react-helmet-async")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This component helps manage changes to the document head and improves SEO. Also helps to enables social sharing on a page-level basis.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/i18next/react-i18next"},"react-i18next")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package is an internationalization framework for React / React Native which is based on ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"http://i18next.com/"},"i18next"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/remarkjs/react-markdown"},"react-markdown")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Markdown component for React using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/remarkjs/remark"},"remark"),". This enables using Markdown or HTML in our language content files.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://www.npmjs.com/package/react-scripts"},"react-scripts")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"This package includes scripts and configuration used by ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/facebook/create-react-app"},"Create React App"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/text-mask/text-mask"},"react-text-mask")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"React input component that accepts mask pattern. Used for user's phone number input field.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/nytimes/react-tracking"},"react-tracking")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"Declarative tracking for React apps. Used as a HoC on the App and paired with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"pubsub-js")," to track analytics.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"td",href:"https://github.com/reactjs/react-transition-group"},"react-transition-group")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:"left"},"A set of components for managing component states (including mounting and unmounting) over time, specifically designed with animation in mind.")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Included Packages",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/Styling.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Styling",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Styling"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Since the app makes heavy use of the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://mui.com/material-ui/getting-started/overview/"},"Material UI")," (MUI) library, we have also implemented the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://mui.com/material-ui/customization/theming/"},"Material UI theming")," system. This system is best described as a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"CSS in JS")," system where almost all the styles are defined as javascript objects within the components they are used. This brings with it the benefit of knowing exactly where CSS declarations are used but with the trade off of being a little less flexible. React's hook system is used to apply these component styles."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"theme.js"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"While most styles will be applied at the component level, there is also a global style object available at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"./src/themes/theme.js"),". This file is actually providing overrides to MUI's default theme settings. The MUI docs site has a references for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://mui.com/material-ui/customization/default-theme/#explore"},"all the default styles"),". "),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Our ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"theme.js")," file is where application wide styles and overrides are applied. This is also where global component overrides can be applied. For example, you want all buttons in the app to have a drop shadow. Instead of applying a drop shadow to every component that has a button, you would instead apply it to the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"theme.js")," file."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Spacing"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The theme system also provides a great helper for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://mui.com/material-ui/customization/spacing/"},"spacing"),". MUI uses a recommended ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"8px")," scaling factor by default. Throughout the code there are calls to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"theme.spacing()"),". Please use this helper instead of fixed pixel when it's sensible, such as CSS margin and padding settings. This ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"8px")," scale can be divided when necessary using decimal values (e.g.: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"theme.spacing(.5) = 4px"),")"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Responsiveness"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"theme.js")," file also contains the fixed pixel settings for the breakpoints used by MUI's component. It looks like this:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-javascript"},'  breakpoints: {\n    keys: [\n      "xs",\n      "sm",\n      "smLandscape",\n      "md",\n      "lg",\n      "xl"\n    ],\n    values: {\n      xs: 0,\n      sm: 600,\n      smLandscape: 880,\n      md: 960,\n      lg: 1280,\n      xl: 1920\n    }\n  }\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"  Inside components, responsive breakpoints can be accessed when using the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"makeStyles")," hook."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-javascript"},"import { makeStyles } from '@material-ui/core/styles'\n...\nconst useStyles = makeStyles( theme => ({\n  hero: {\n    [theme.breakpoints.up('sm')]: {\n      height: \"500px\",\n      alignItems: 'center',\n    }\n  }\n})\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"  Read more about using responsive image components on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"?path=/docs/architecture-utilities--page#RIC"},"Utilities")," page"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"h2"},"isMobile")," State"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"  In some responsive instances we need to trigger a component change. We use React's state hook to manages this. You may see this state variable in some components:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-javascript"},"const [isMobile, setIsMobile] = useState(window.innerWidth < 600)\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"  This creates a responsive state variable that we can use with resize events. For instance, it may be used to change CSS classes ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},'<Typography variant={isMobile ? "body1" : "body2"}>')," or it may be used to toggle components. For example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},"{ isMobile ? \n  <MobileComponent />\n  :\n  <DesktopComponent />\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Styling",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/Utilities.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Utilities",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Utilities and 3rd Party Libraries"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"This site makes use of a few programs that fall outside of the node development stack."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Image generation"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The most important utility to cover is how responsive images are created for this project. Creating responsive images for multiple resolutions manually is time consuming. We make use of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://imagemagick.org/index.php"},"ImageMagick")," for resizing images and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://imageoptim.com/"},"ImageOptim")," for compressing the images. This is all easily executed using the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/utils.sh")," script."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The idea for this technique is based on the Hackernoon article ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://hackernoon.com/save-time-by-transforming-images-in-the-command-line-c63c83e53b17"},"Save Time by Transforming Images in the Command Line"),". Here are the steps to run the responsive image utility."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Step 1 - Install Software"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Install ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://imagemagick.org/index.php"},"ImageMagick")," on your machine. ImageMagick provides your CLI with two powerful commands: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"convert")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"mogrify"),". Typing these commands into the CLI should output the help text on how to use the commands."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Install ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://imageoptim.com/"},"ImageOptim"),". Once installed view the help text by typing ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"imageoptim -h"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Step 2 - Test Run the Script"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Now that the software is installed, change your path to where the source images are located ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"cd public/assets/images"),". From this folder you can run the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"utils.sh")," file. Test that it executes properly with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"./../../../utils.sh hello"),". This should output ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"Hello")," to your terminal. If it does not execute then you may need to run ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"chmod")," to set the file permissions."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Step 3 - Creating the Images"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Now you can run the script to batch generate responsive images. Looking at the folder structure of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/public/assets/images/")," you should see folders for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"article"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"body"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"fullWidth"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"hero"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"mediaCard"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"sampleReport"),", and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"misc"),". These are the image content types. Inside each of these folders is a sub-folder named ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"_original")," where the original full resolution images should be placed. See the table below for the script commands."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("table",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("thead",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"thead"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("th",{parentName:"tr",align:null},"Content Type"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("th",{parentName:"tr",align:null},"Command"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("th",{parentName:"tr",align:null},"Description"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tbody",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Article"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"article"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Appear in the right column of content, usually in an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"aside")," element. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1200"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"760"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"600"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"380")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Body"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"body"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Appear in the left column among the content text. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1200"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"600")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Full Width"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"fullWidth"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Used for background images and images that span the full 12 columns of the layout grid. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"2560"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1920"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1280"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"960"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"600"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"380")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Hero"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"hero"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Used specifically on the home page. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1400"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1000"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"700"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"500")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Media Card"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"mediaCard"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Used by ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"IconCardMedia")," elements seen on the home page. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1064"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"532")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Sample Reports"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"sampleReport"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Displays sample report cover images as seen on the Biomarker Test page and the Test Results dashboard page.  ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("span",{class:"block"},"Images created at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"1720"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"860"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"640"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"td"},"320")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"Miscellaneous"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"-"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"All other images that do not fit into the other categories.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"-"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"createAll"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("td",{parentName:"tr",align:null},"runs all the image scripts")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"You'll notice that there is no command for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"miscellaneous")," content type. Miscellaneous images have to be processed manually. Alternatively, you could add a new temporary category to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"utils.sh")," for a one-off run. Looking at the script you'll see that all other categories call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"make_images")," which accepts two arguments, ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"breakpoint name")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"size"),". ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"breakpoint name")," becomes the name of the sub-folder the processed images are saved to. It's a very simple but effective script."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("strong",{parentName:"p"},"All processed images should be checked into source control"),". This script is not run when the site is deployed. It is just a front-end utility."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h4",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{name:"RIC",id:"RIC"}),"Responsive Image Components"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'The "Article" and "Body" content types are used throughout the site. To save time on typing out a full ',(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"srcSet")," image element every time, we've created components for this purpose. Articles can use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:""},"ArticleImage")," component at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/components/utils/ArticleImage.js")," and Body images can use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:""},"BodyImage")," component at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/components/utils/BodyImage.js"),". See the component documentation for more information."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'Most of the "Full Width" images are used as background images, as seen on the Home Page.'),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'The "Hero" images is also applied as a background image on the Home Page.'),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'"Media Card" images are passed as a url param to the ',(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"IconCardMedia")," component. This path is dynamically changed by React depending on the screen width."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'"Sample Reports" would probably benefit from a utility component similar to "Article" and "Body". However, we\'re using a plain HTML ',(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"img")," element with a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"srcSet")," attribute."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Prerender.io"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Moonshot Biobank uses React to create a Single Page App (SPA). As such, this makes it difficult to deep link to pages and there are other issues concerning web crawlers' ability to index the site properly. SPA's are also difficult to share links to on social media sites. To remedy this issue, we use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://prerender.io/"},"Prerender.io"),". Prerender.io will generate cached version of each page on our ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"sitemap.xml")," as well as any manual entries added through their dashboard. If pages are added to the site then the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"sitemap.xml")," file should be updated and Prerender.io should be re-cached. This can only be done once the site updates have been deployed to PROD. This feature does not work on lower tiers."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Maps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,'The "Eligibility and locations" page has an interactive map that show the locations of centers participating in the Moonshot Biobank project. These maps are powered by ',(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://leafletjs.com/"},"Leaflet"),". Leaflet, in turn, makes use of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://www.thunderforest.com/"},"Thunderforest")," for high-quality map tiles. These libraries are only present in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"HospitalMap")," component."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Utilities",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/stories/architecture/i18n.stories.mdx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},__page:function(){return __page}});__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js");__webpack_require__("./src/stories/assets/css/storybook.css");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{title:"Architecture/Translations",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",null,"Translations"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The Moonshot Biobank app is built with multi-lingual support. The languages available are English and Spanish. We use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://www.i18next.com/"},"i18next")," library to deliver these features. The term ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"i18n"),' is an abbreviation of "internationalization" in that there are 18 letters between the "i" and "n".'),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Content"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The content for the site is kept in it's own repository at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://github.com/CBIIT/ncippe-content"},"NCIPPE Content"),". Content was separated for a couple of reasons. The first was so we could better manage permissions on who was editing content without the risk of application code being affected. The second reason was to decouple the content from the app in case a headless CMS like Drupal was brought in to manage content. The third reason was so revision could be made to content separate from the application code."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Symlink"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The easiest way to use the content library with a dev project is to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"symlink")," it in your NCIPPE-front-end project. For a Mac, use the following command ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"ln -s /path/to/original /path/to/link"),". The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"-s")," flag on the link command means ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"symbolic"),". For this project the command may resemble ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"ln -s ~/GIT/ncippe-content/locales ~/GIT/ncippe-front-end/public/locales"),". Now, any changes you make in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"NCIPPE-content")," will be immediately reflected in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"NCIPPE-front-end")," on a page refresh."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h3",null,"Editing Content"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"I've been using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://www.codeandweb.com/babeledit"},"BabelEdit")," for managing and editing the JSON language files. It's simple and effective software that provides a quality GUI for making updates to multiple language files at the same time. The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},".babel")," project file is available in the repo for others to use. Just be sure to check-in changes to the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},".babel")," file as fields are added or removed from the project."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Implementation"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The file at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/i18n.js")," sets up the i18next translation features and React Context. This is imported into the App entry point at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/index.js"),". From the components you can import the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"useTranslation")," hook to load the required JSON file for that component. Each JSON file name is considered a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"namespace"),". The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"useTranslation")," hook function takes one options argument. You can either pass in a namespace or an array of namespaces to load. Translations will resolve from the first specified namespace to the last."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Using Plurals"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Using plurals is explained on i18next docs for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://www.i18next.com/misc/json-format#i18next-json-v3"},"JSON Format"),". Basically ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"_plural")," can be added to any translation key to provide a plural format that will be interpolated at run time."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "a_landing": {\n    "cards": {\n      "notifications": {\n        "description": "You have {{count}} new notification",\n        "description_plural": "You have {{count}} new notifications",\n      }\n    }\n  }\n}\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Translations with Arrays"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Arrays are not a supported data structure of BabelEdit. However, numbers can be used as keys and manually incremented in a subsection. When requesting the parent key, specifying ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"{returnObjects: true}")," will convert the child keys into an object that can be looped over. The example below was taken from  ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/pages/PolicyPage.js")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-javascript"},"  {Object.keys(t('public.sections', { returnObjects: true })).map((section, i) => \n    <Typography component=\"section\" key={i}>\n      <RenderContent children={t(`public.sections.${i}.title`)} />\n      <RenderContent children={t(`public.sections.${i}.body`)} />\n    </Typography>\n  )}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",null,"Localization with MomentJS"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://momentjs.com/"},"Moment JS")," is a node module that enables easy handling of timestamps and localizations for date formats. Dates are formatted differently between Spanish and English. Moment JS is not the newest or most compact time management library, but it's one of the best at supporting i18n which is why it was chosen. The localization is set using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"moment.locale(lang)")," in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"/src/routers/routes.js")," file."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",{class:"subheading"},"Front End Architectural Features"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Architecture/Translations",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null))},__webpack_exports__.default=componentMeta;const __namedExportsOrder=["__page"]},"./src/components/AddParticipant/AddParticipant.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoAddParticipant:function(){return DemoAddParticipant},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_index__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/AddParticipant/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/AddParticipant",component:_index__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{link:{table:{defaultValue:{summary:"undefined"}}}}};var DemoAddParticipant=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children:"Stub for Add Participant"})}.bind({});DemoAddParticipant.storyName="AddParticipant",DemoAddParticipant.parameters=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <div>Stub for Add Participant</div>"}},DemoAddParticipant.parameters);var __namedExportsOrder=["DemoAddParticipant"]},"./src/components/Breadcrumbs/Breadcrumbs.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoBreadcrumbs:function(){return DemoBreadcrumbs},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Breadcrumbs_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js")),es=__webpack_require__("./node_modules/@reach/router/es/index.js"),Container=__webpack_require__("./node_modules/@material-ui/core/esm/Container/Container.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),ArrowBack=__webpack_require__("./node_modules/@material-ui/icons/esm/ArrowBack.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){var _back;return{Breadcrumbs:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",padding:theme.spacing(3)},back:(_back={fontSize:theme.typography.h6.fontSize,lineHeight:0,textTransform:"none"},(0,defineProperty.Z)(_back,theme.breakpoints.up("sm"),{marginLeft:theme.spacing(2)}),(0,defineProperty.Z)(_back,"@media (min-width: 880px)",{marginLeft:theme.spacing(4)}),_back),backIcon:{marginRight:theme.spacing(1)}}}),{name:"Breadcrumbs"}),Breadcrumbs=function Breadcrumbs(props){var classes=useStyles(),t=(0,useTranslation.$)("a_common").t;return(0,jsx_runtime.jsx)(Container.Z,{className:classes.Breadcrumbs,children:(0,jsx_runtime.jsx)(Typography.Z,{children:(0,jsx_runtime.jsxs)(Button.Z,{className:"".concat(classes.back," backButton"),color:"primary",variant:"text",onClick:function handleClick(){props.link?(0,es.c4)(props.link):(0,es.c4)(-1)},children:[(0,jsx_runtime.jsx)(ArrowBack.Z,{className:classes.backIcon})," ",t("buttons.back")]})})})};Breadcrumbs.displayName="Breadcrumbs",Breadcrumbs.__docgenInfo={description:"This component has been stripped down since it's inception to be just a simple Back button",methods:[],displayName:"Breadcrumbs",props:{link:{description:"a link for the back button if it's not a simple history back request",type:{name:"string"},required:!1}}};var Breadcrumbs_Breadcrumbs=Breadcrumbs;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Breadcrumbs/Breadcrumbs.js"]={name:"Breadcrumbs",docgenInfo:Breadcrumbs.__docgenInfo,path:"src/components/Breadcrumbs/Breadcrumbs.js"});var Breadcrumbs_stories={title:"Components/Breadcrumbs",component:Breadcrumbs_Breadcrumbs,argTypes:{link:{table:{defaultValue:{summary:"undefined"}}}}},DemoBreadcrumbs=function Template(args){return(0,jsx_runtime.jsx)(Breadcrumbs_Breadcrumbs,(0,objectSpread2.Z)({},args))}.bind({});DemoBreadcrumbs.storyName="Breadcrumbs",DemoBreadcrumbs.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Breadcrumbs {...args} />"}},DemoBreadcrumbs.parameters);var __namedExportsOrder=["DemoBreadcrumbs"]},"./src/components/DeactivatedQuestions/DeactivatedQuestions.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoDeactivatedQuestions:function(){return DemoDeactivatedQuestions},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return DeactivatedQuestions_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Paper=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js")),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{deactivationQuestions:{marginTop:theme.spacing(3),padding:theme.spacing(4,3)},questions:{borderBottom:"2px solid #ccc",padding:theme.spacing(3,0),"&:last-child":{borderBottom:"none"}},question:{fontWeight:theme.typography.fontWeightBold}}}),{name:"DeactivatedQuestions"}),DeactivatedQuestions=function DeactivatedQuestions(props){var user=props.user,classes=useStyles(),t=(0,useTranslation.$)("a_common").t;return(0,jsx_runtime.jsxs)(Paper.Z,{className:classes.deactivationQuestions,elevation:25,id:"deactivationQuestions",children:[(0,jsx_runtime.jsxs)(Typography.Z,{className:classes.cardTitle,variant:"h3",component:"h3",children:[user.firstName," ",user.lastName," ",t("components.deactivated_questions.left")," ",moment_default()(user.dateDeactivated).format("MMM DD, YYYY")]}),user.questionAnswers.map((function(q,i){return(0,jsx_runtime.jsxs)("div",{className:classes.questions,children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.question,children:q.question}),(0,jsx_runtime.jsx)(Typography.Z,{children:q.answer?q.answer:t("components.deactivated_questions.no_response")})]},i)}))]})};DeactivatedQuestions.displayName="DeactivatedQuestions",DeactivatedQuestions.__docgenInfo={description:"This component will render on the Account Setting page if the user has deactivated their account",methods:[],displayName:"DeactivatedQuestions",props:{user:{description:"data object (from Login context) containing the questions this user answered before deactivating their account",type:{name:"shape",value:{firstName:{name:"string",description:"user's first name",required:!0},lastName:{name:"string",description:"user's last name",required:!0},dateDeactivated:{name:"number",description:"date the user deactivated their account as a raw timestamp",required:!0},questionAnswers:{name:"arrayOf",value:{name:"shape",value:{questionOrder:{name:"number",description:"The question number, used for sorting",required:!1},question:{name:"string",description:"The question",required:!1},answer:{name:"string",description:"the answer provided by the user or the admin who deactivated the account",required:!1}}},description:"array of questions that the user should have answered before deactivating their account",required:!0}}},required:!1}}};var DeactivatedQuestions_DeactivatedQuestions=DeactivatedQuestions;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeactivatedQuestions/DeactivatedQuestions.js"]={name:"DeactivatedQuestions",docgenInfo:DeactivatedQuestions.__docgenInfo,path:"src/components/DeactivatedQuestions/DeactivatedQuestions.js"});var user=JSON.parse('{\n  "firstName": "John",\n  "lastName": "Smith",\n  "dateDeactivated": 1560320999000,\n  "questionAnswers": [\n    {\n      "questionOrder": 1,\n      "question": "Program can continue to use samples already collected",\n      "answer": "Yes"\n    },\n    {\n      "questionOrder": 2,\n      "question": "Program can keep collecting relevant data from patient medical record",\n      "answer": "Yes"\n    },\n    {\n      "questionOrder": 3,\n      "question": "Reason for leaving the Biobank",\n      "answer": "Because I don\'t want to participate anymore."\n    }\n  ]\n}'),DeactivatedQuestions_stories={title:"Components/Questions/Deactivated Questions",component:DeactivatedQuestions_DeactivatedQuestions,argTypes:{link:{table:{defaultValue:{user:"undefined"}}}}},DemoDeactivatedQuestions=function Template(args){return(0,jsx_runtime.jsx)(DeactivatedQuestions_DeactivatedQuestions,(0,objectSpread2.Z)({},args))}.bind({});DemoDeactivatedQuestions.storyName="Deactivated Questions",DemoDeactivatedQuestions.args={user:user},DemoDeactivatedQuestions.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <DeactivatedQuestions {...args} />"}},DemoDeactivatedQuestions.parameters);var __namedExportsOrder=["DemoDeactivatedQuestions"]},"./src/components/Editor/Editor.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoEditor:function(){return DemoEditor},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Editor_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),ts=__webpack_require__("./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TinyMCE_Editor=(0,react.forwardRef)((function(props,ref){var onEditorChange=props.onEditorChange,_props$initialValue=props.initialValue,initialValue=void 0===_props$initialValue?"Compose your message here...":_props$initialValue,_props$value=props.value,value=void 0===_props$value?"":_props$value;return(0,jsx_runtime.jsx)(ts.M,{apiKey:"c3ck5ygkz8m2li85vr6rdpzz3rr9mwcdpiy7alpsc1suuqae",ref:ref,initialValue:initialValue,value:value,init:{height:500,menubar:!1,plugins:"autolink lists link image charmap paste help wordcount quickbars",toolbar:"undo redo | formatselect | forecolor | bold italic underline | \n          alignment | charmap | image | bullist numlist | paste pastetext |removeformat | help",quickbars_insert_toolbar:!1,quickbars_selection_toolbar:"bold italic underline | link",setup:function setup(editor){editor.ui.registry.addGroupToolbarButton("alignment",{icon:"align-left",tooltip:"Alignment",items:"alignleft aligncenter alignright | alignjustify | outdent indent"}),editor.on("ObjectResizeStart",(function(e){if("IMG"===e.target.nodeName){var selectedImage=editor.selection.getNode();editor.dom.setStyle(selectedImage,"width",e.width),editor.dom.setStyle(selectedImage,"height",e.height),selectedImage.removeAttribute("width"),selectedImage.removeAttribute("height")}}))}},onEditorChange:function handleEditorChange(content,editor){onEditorChange&&onEditorChange(content)}})}));TinyMCE_Editor.__docgenInfo={description:"",methods:[],displayName:"TinyMCE_Editor"};var Editor=TinyMCE_Editor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/Editor.js"]={name:"TinyMCE_Editor",docgenInfo:TinyMCE_Editor.__docgenInfo,path:"src/components/Editor/Editor.js"});var Editor_stories={title:"Components/Editor",component:Editor,argTypes:{link:{table:{defaultValue:{summary:"undefined"}}}}},DemoEditor=function Template(args){return(0,jsx_runtime.jsx)(Editor,(0,objectSpread2.Z)({},args))}.bind({});DemoEditor.storyName="Editor",DemoEditor.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Editor {...args} />"}},DemoEditor.parameters);var __namedExportsOrder=["DemoEditor"]},"./src/components/ExpansionMenu/ExpansionMenu.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FloatingExpansionMenu:function(){return FloatingExpansionMenu},StackedExpansionMenu:function(){return StackedExpansionMenu},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ExpansionMenu_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/@reach/router/es/index.js"),Accordion=__webpack_require__("./node_modules/@material-ui/core/esm/Accordion/Accordion.js"),AccordionSummary=__webpack_require__("./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),AccordionDetails=__webpack_require__("./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js"),MenuList=__webpack_require__("./node_modules/@material-ui/core/esm/MenuList/MenuList.js"),MenuItem=__webpack_require__("./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),ExpandMore=__webpack_require__("./node_modules/@material-ui/icons/esm/ExpandMore.js"),AddRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/AddRounded.js"),RemoveRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/RemoveRounded.js"),ConditionalWrapper=__webpack_require__("./src/components/utils/ConditionalWrapper.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{root:{"&.Mui-expanded":{margin:"auto"}},accordionSummary:{"& .MuiAccordionSummary-content":{margin:0,"&.Mui-expanded":{margin:0}}},accordionDetails:{padding:0},menuList:{padding:0,width:"100%"},floating:{border:"2px solid ".concat(theme.palette.primary.main),color:theme.palette.primary.main,borderRadius:theme.shape.borderRadius,boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&.Mui-expanded":{boxShadow:theme.shadows[4]},"& .MuiAccordionSummary-root":{"&.Mui-expanded":{borderBottom:"1px solid ".concat(theme.palette.primary.main),minHeight:"0 !important"},"& .MuiAccordionSummary-expandIcon":{color:theme.palette.primary.main}}},stacked:{"& .MuiAccordionSummary-root":{padding:"0 12px","&.Mui-expanded":{minHeight:"48px",backgroundColor:theme.palette.primary.light},"& .MuiAccordionSummary-content":{order:1},"& .MuiAccordionSummary-expandIcon":{margin:0,padding:"0 6px 0 0","&.Mui-expanded":{transform:"none"}}},"&::before":{height:2,top:-2},"&.Mui-expanded":{"&::before":{opacity:1},"& + .MuiAccordion-root::before":{display:"block"}},"& .MuiList-root":{"& li":{padding:0},"& a":{color:theme.palette.common.black,textDecoration:"none",flexGrow:1,padding:"6px 16px"},"& .Mui-selected,& .Mui-selected:focus,& .Mui-selected:hover":{backgroundColor:theme.palette.navy.dark,color:theme.palette.common.white,fontWeight:600,padding:"6px 16px","& a":{color:theme.palette.common.white}}}}}})),ExpansionMenu=function ExpansionMenu(props){var classes=useStyles(),_props$index=props.index,index=void 0===_props$index?"panel-".concat(Math.floor(1e3*Math.random())+1):_props$index,menuText=props.menuText,_props$className=props.className,className=void 0===_props$className?"":_props$className,_props$expanded=props.expanded,expanded=void 0!==_props$expanded&&_props$expanded,_props$active=props.active,active=void 0!==_props$active&&_props$active,handleClick=props.handleClick,_props$variant=props.variant,variant=void 0===_props$variant?"stacked":_props$variant,children=props.children,_useState=(0,react.useState)(expanded),_useState2=(0,slicedToArray.Z)(_useState,2),isExpanded=_useState2[0],setIsExpanded=_useState2[1],ExpandIcon="stacked"!==variant?ExpandMore.Z:AddRounded.Z,CollapseIcon="stacked"!==variant?ExpandMore.Z:RemoveRounded.Z,loc=window.location.pathname;(0,react.useEffect)((function(){setIsExpanded(expanded)}),[expanded]);var handleListItemKeyDown=function handleListItemKeyDown(event){"Enter"===event.key&&event.target.firstChild.click()},focusItem=function focusItem(event){event.currentTarget.focus()};return(0,jsx_runtime.jsxs)(Accordion.Z,{square:!0,expanded:isExpanded,onChange:function handleChange(event,newExpanded){handleClick?handleClick(event,!!newExpanded):setIsExpanded(!!newExpanded)},className:"".concat(classes.root," ").concat("stacked"!==variant?classes.floating:classes.stacked," ").concat(className),children:[(0,jsx_runtime.jsx)(AccordionSummary.Z,{className:"".concat(classes.accordionSummary," ").concat(active?"active":""),expandIcon:isExpanded?(0,jsx_runtime.jsx)(CollapseIcon,{}):(0,jsx_runtime.jsx)(ExpandIcon,{}),"aria-controls":"".concat(index,"Menu--content"),id:"".concat(index,"Menu--header"),children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"h4",children:menuText})}),(0,jsx_runtime.jsx)(AccordionDetails.Z,{className:classes.accordionDetails,children:(0,jsx_runtime.jsx)(MenuList.Z,{className:classes.menuList,autoFocusItem:isExpanded,"data-panelgroup":menuText,children:react.Children.map(children,(function(child){return child&&"a"===child.type?(0,jsx_runtime.jsx)(MenuItem.Z,{onClick:child.props.onClick,onKeyDown:handleListItemKeyDown,onMouseOver:focusItem,selected:loc===child.props.href,className:child.props.className,children:(0,jsx_runtime.jsx)(ConditionalWrapper.Z,{condition:loc!==child.props.href,wrapper:function wrapper(children){return(0,jsx_runtime.jsx)(es.rU,{to:child.props.href,children:children})},children:(0,jsx_runtime.jsx)("span",{children:child.props.children})})}):child}))})})]})};ExpansionMenu.displayName="ExpansionMenu",ExpansionMenu.__docgenInfo={description:"This component will display a drop down menu of links. It has two styles: `stacked` and `floating`. The stacked menu variant is currently only used for the mobile menu navigation. The floating menu variant is used in various places for user interaction",methods:[],displayName:"ExpansionMenu",props:{index:{description:"unique identifier used for ARIA controls connecting the button to the menu",type:{name:"string"},required:!1},menuText:{description:"the text of the menu button",type:{name:"string"},required:!0},className:{description:"optional additional class name for custom styles",type:{name:"string"},required:!1},children:{description:"The menu items",type:{name:"node"},required:!0},expanded:{description:"sets if the menu is expanded or not",type:{name:"bool"},required:!1},active:{description:"adds an `active` class name to the menu button for additional styling",type:{name:"bool"},required:!1},handleClick:{description:"Callback fired when the expand/collapse state is changed. \n`function(event: object, expanded: boolean) => void`\n_event_: The event source of the callback.\n_expanded_: The expanded state of the accordion.",type:{name:"func"},required:!1},variant:{description:"The variant to use",type:{name:"enum",value:[{value:"'stacked'",computed:!1},{value:"'floating'",computed:!1}]},required:!1}}};var ExpansionMenu_ExpansionMenu=ExpansionMenu;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ExpansionMenu/ExpansionMenu.js"]={name:"ExpansionMenu",docgenInfo:ExpansionMenu.__docgenInfo,path:"src/components/ExpansionMenu/ExpansionMenu.js"});var ExpansionMenu_stories={title:"Components/Expansion Menu",component:ExpansionMenu_ExpansionMenu,argTypes:{index:{table:{defaultValue:{summary:"panel-{####}"}}},menuText:{table:{defaultValue:{summary:"undefined"}}},variant:{table:{defaultValue:{summary:"stacked"}}},expanded:{table:{defaultValue:{summary:!1}}},active:{table:{defaultValue:{summary:!1}}},className:{table:{defaultValue:{summary:""}}},handleClick:{table:{defaultValue:{summary:"undefined"}}}}},Template=function Template(args){return(0,jsx_runtime.jsxs)(ExpansionMenu_ExpansionMenu,(0,objectSpread2.Z)((0,objectSpread2.Z)({menuText:"Expansion Menu"},args),{},{children:[(0,jsx_runtime.jsx)("a",{href:"/about",children:"About"}),(0,jsx_runtime.jsx)("a",{href:"/about/eligibility",children:"Eligibility"}),(0,jsx_runtime.jsx)("a",{href:"/about/research",children:"Research"})]}))},StackedExpansionMenu=Template.bind({});StackedExpansionMenu.storyName="Stacked Expansion Menu",StackedExpansionMenu.args={index:"stacked",variant:"stacked"};var FloatingExpansionMenu=Template.bind({});FloatingExpansionMenu.storyName="Floating Expansion Menu",FloatingExpansionMenu.args={index:"floating",variant:"floating"},StackedExpansionMenu.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\n\n  return (\n    <ExpansionMenu menuText="Expansion Menu" {...args}>\n      <a href="/about">About</a>\n      <a href="/about/eligibility">Eligibility</a>\n      <a href="/about/research">Research</a>\n    </ExpansionMenu>\n  )\n}'}},StackedExpansionMenu.parameters),FloatingExpansionMenu.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\n\n  return (\n    <ExpansionMenu menuText="Expansion Menu" {...args}>\n      <a href="/about">About</a>\n      <a href="/about/eligibility">Eligibility</a>\n      <a href="/about/research">Research</a>\n    </ExpansionMenu>\n  )\n}'}},FloatingExpansionMenu.parameters);var __namedExportsOrder=["StackedExpansionMenu","FloatingExpansionMenu"]},"./src/components/FAQ/FAQ.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SingleFAQ:function(){return SingleFAQ},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_FAQ__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@reach/router/es/index.js"),__webpack_require__("./src/components/FAQ/FAQ.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/FAQ/Single FAQ",component:_FAQ__WEBPACK_IMPORTED_MODULE_2__.Z,argTypes:{index:{table:{defaultValue:{summary:"random 4 digit number"}}},expanded:{table:{defaultValue:{summary:!1}}},title:{table:{defaultValue:{summary:"undefined"}}},desc:{table:{defaultValue:{summary:"undefined"}}},onClick:{table:{defaultValue:{summary:"undefined"}}}}};var SingleFAQ=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_FAQ__WEBPACK_IMPORTED_MODULE_2__.Z,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},args))}.bind({});SingleFAQ.args={index:"example",title:"Would you like to know more?",desc:'Here is some <a href="https://hipsum.co/?paras=2&type=hipster-centric&start-with-lorem=1" rel=\'noopener noreferrer\' target="_blank">Hipster Ipsum</a><p>I\'m baby thundercats portland put a bird on it, flannel actually unicorn next level fixie yuccie. Jianbing roof party fam pinterest pitchfork jean shorts. Hashtag bushwick sriracha stumptown pork belly waistcoat food truck mlkshk messenger bag tilde. Vape williamsburg pinterest typewriter iPhone, blog 3 wolf moon photo booth lyft sartorial everyday carry.</p>'},SingleFAQ.parameters=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({storySource:{source:"(args) => <FAQ {...args} />"}},SingleFAQ.parameters);var __namedExportsOrder=["SingleFAQ"]},"./src/components/FAQ_Group/FAQ_Group.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultipleFAQ:function(){return MultipleFAQ},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return FAQ_Group_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Container=__webpack_require__("./node_modules/@material-ui/core/esm/Container/Container.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),Box=__webpack_require__("./node_modules/@material-ui/core/esm/Box/Box.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),RemoveRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/RemoveRounded.js"),AddRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/AddRounded.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),FAQ=__webpack_require__("./src/components/FAQ/FAQ.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["title","faqs","className"],useStyles=(0,makeStyles.Z)((function(theme){var _faq_title;return{faq_title:(_faq_title={},(0,defineProperty.Z)(_faq_title,theme.breakpoints.up("sm"),{display:"flex",flexDirection:"row",alignItems:"center"}),(0,defineProperty.Z)(_faq_title,"& h3",{flexGrow:1}),_faq_title),faq_icon:{marginLeft:-8,marginRight:4},whiteBG:(0,defineProperty.Z)({minWidth:148,margin:theme.spacing(1,0,0,0),backgroundColor:theme.palette.common.white,whiteSpace:"nowrap"},theme.breakpoints.up("sm"),{margin:theme.spacing(0,0,0,2)})}}),{name:"FAQ_Group"}),FAQs=function FAQs(props){var title=props.title,faqs=props.faqs,className=props.className,other=(0,objectWithoutProperties.Z)(props,_excluded),classes=useStyles(),t=(0,useTranslation.$)("common").t,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isExpanded=_useState2[0],setIsExpanded=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),toggleState=_useState4[0],setToggleState=_useState4[1];(0,react.useEffect)((function(){var shouldToggle=(0,toConsumableArray.Z)(new Set(toggleState));setIsExpanded((function(prev){return 1===shouldToggle.length&&shouldToggle[0]!==prev?!prev:prev}))}),[toggleState]);var trackToggle=(0,react.useCallback)((function(index,state){setToggleState((function(prev){var newState=(0,toConsumableArray.Z)(prev);return newState[index]=state,newState}))}),[]);return(0,jsx_runtime.jsxs)(Container.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({className:"innerContainer ".concat(className)},other),{},{component:"section",children:[(0,jsx_runtime.jsxs)("div",{className:classes.faq_title,children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"h2",component:"h3",children:title}),(0,jsx_runtime.jsx)(Button.Z,{className:classes.whiteBG,variant:"outlined",color:"primary",onClick:function toggleAll(){setIsExpanded((function(prev){return!prev}))},children:isExpanded?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RemoveRounded.Z,{className:classes.faq_icon})," ",t("buttons.collapse")]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(AddRounded.Z,{className:classes.faq_icon})," ",t("buttons.expand")]})})]}),(0,jsx_runtime.jsx)(Box.Z,{mt:3,children:faqs&&Object.keys(faqs).map((function(faq,i){return(0,jsx_runtime.jsx)(FAQ.Z,{index:i,title:faqs[faq].question,desc:faqs[faq].answer,expanded:isExpanded,onClick:trackToggle},i)}))})]}))};FAQs.displayName="FAQ_Group",FAQs.__docgenInfo={description:"Create a group of frequent asked question accordions that can all be toggled together",methods:[],displayName:"FAQ_Group",props:{title:{description:"text that appears in the FAQ header",type:{name:"string"},required:!1},faqs:{description:"faq data to be rendered",type:{name:"object"},required:!0},className:{description:"assign a class name to this component for additional styles",type:{name:"string"},required:!1}}};var FAQ_Group=FAQs;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FAQ_Group/FAQ_Group.js"]={name:"FAQs",docgenInfo:FAQs.__docgenInfo,path:"src/components/FAQ_Group/FAQ_Group.js"});var FAQ_Group_stories={title:"Components/FAQ/Multiple FAQ",component:FAQ_Group,argTypes:(0,defineProperty.Z)({title:{table:{defaultValue:{summary:"undefined"}}},className:{table:{defaultValue:{summary:"undefined"}}},faqs:{table:{defaultValue:{summary:"undefined"}}}},"...other",{type:{summary:"mixed"},description:'this component also accepts props to be passed along to the <a href="https://material-ui.com/api/container/" rel="noopener noreferrer" target="_blank">MuiContainer</a> that wrapps all the FAQs',table:{defaultValue:{summary:"undefined"}},control:{type:null}})},MultipleFAQ=function Template(args){return(0,jsx_runtime.jsx)(FAQ_Group,(0,objectSpread2.Z)({},args))}.bind({});MultipleFAQ.args={title:"A Group of FAQ's",faqs:{0:{answer:"A biomarker is a biological molecule found in blood, tissue, or other bodily fluids. It can be used to indicate a disease, or as a way to see if the body is responding to treatment.",question:"What is a biomarker, exactly?"},1:{answer:"A biomarker test only analyzes the genes in your cancer. Its different from genetic testing like commercially available ancestry tests or cancer risk testing which look at the genes you inherited from your parents.",question:"Is a biomarker test the same as a genetic test?"}}},MultipleFAQ.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <FAQs {...args} />"}},MultipleFAQ.parameters);var __namedExportsOrder=["MultipleFAQ"]},"./src/components/FileList/FileList.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FileListDemo:function(){return FileListDemo},FileListNoItems:function(){return FileListNoItems},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return FileList_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js")),FileListItem=__webpack_require__("./src/components/FileList/FileListItem.js"),NoItems=__webpack_require__("./src/components/NoItems/NoItems.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["files","noItemsMsg"],FileList=function FileList(props){var files=props.files,noItemsMsg=props.noItemsMsg,rest=(0,objectWithoutProperties.Z)(props,_excluded);return files&&files.length>0?files.map((function(file,i){return(0,jsx_runtime.jsx)(FileListItem.Z,(0,objectSpread2.Z)({file:file},rest),i)})):(0,jsx_runtime.jsx)(NoItems.Z,{message:noItemsMsg})};FileList.displayName="FileList",FileList.__docgenInfo={description:"",methods:[],displayName:"FileList",props:{files:{description:"An array of files as structured for the `FileListItem` component.",type:{name:"array"},required:!1},noItemsMsg:{description:"A message to display (as text, html or markdown) when there are no files",type:{name:"string"},required:!1}}};var FileList_FileList=FileList;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileList/FileList.js"]={name:"FileList",docgenInfo:FileList.__docgenInfo,path:"src/components/FileList/FileList.js"});var FileList_stories={title:"Components/File List/File Listing",component:FileList_FileList,argTypes:{noItemsMsg:{table:{defaultValue:{summary:"No items to display."}}}}},Template=function Template(args){return(0,jsx_runtime.jsx)(FileList_FileList,(0,objectSpread2.Z)({},args))},FileListDemo=Template.bind({});FileListDemo.storyName="File Listing",FileListDemo.args={files:[{fileName:"New Report",description:"A sort report description",uploadedFileType:"PPE_FILETYPE_BIOMARKER_REPORT",uploadedBy:"877fd0f1-29dc-4a47-9468-371b91836831",dateUploaded:1567751389e3,fileGUID:"91444ed9-cd1f-43d8-8b08-f468c509a44e",viewedByUser:!1},{fileName:"One_long_report_title_that_needs_wrapping_08-28-2019",description:"A sort report description",uploadedFileType:"PPE_FILETYPE_BIOMARKER_REPORT",uploadedBy:"877fd0f1-29dc-4a47-9468-371b91836831",dateUploaded:1567924189e3,fileGUID:"91444ed9-cd1f-43d8-8b08-f468c509a44f",viewedByUser:!0},{fileName:"New Report",description:"A sort report description",uploadedFileType:"PPE_FILETYPE_BIOMARKER_REPORT",uploadedBy:"877fd0f1-29dc-4a47-9468-371b91836831",dateUploaded:1555136989e3,fileGUID:"91444ed9-cd1f-43d8-8b08-f468c509a44g"}]};var FileListNoItems=Template.bind({});FileListNoItems.storyName="File Listing With No Items",FileListNoItems.args={files:[]};var __namedExportsOrder=["FileListDemo","FileListNoItems"]},"./src/components/FileList/FileListItem.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FileListItemDemo:function(){return FileListItemDemo},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_FileListItem__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/FileList/FileListItem.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/File List/File List Item",component:_FileListItem__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{file:{control:null,table:{defaultValue:{summary:"{}"}}},noBadge:{table:{defaultValue:{summary:!1}}},eventName:{table:{defaultValue:{summary:"VIEW_DOCUMENT_ITEM"}}},fileName:{description:"The name of the file",table:{category:"file",defaultValue:{summary:"undefined"}}},dateUploaded:{description:"The `timestamp` date when this file was uploaded to the system",table:{category:"file",defaultValue:{summary:"undefined"}}},fileGUID:{description:"The unique identifier (`uuid`) of this file",table:{category:"file",defaultValue:{summary:"undefined"}}},viewedByUser:{description:'Flag if this message has been viewed by the user. If `false` then this message will display a "new" badge',table:{category:"file",defaultValue:{summary:!1}},control:{type:"boolean"}}}};var FileListItemDemo=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_FileListItem__WEBPACK_IMPORTED_MODULE_1__.Z,{noBadge:args.noBadge,file:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args)})}.bind({});FileListItemDemo.storyName="File List Item",FileListItemDemo.args={fileName:"New Report",dateUploaded:1555136989e3,fileGUID:"91444ed9-cd1f-43d8-8b08-f468c509a44g",viewedByUser:!1};var __namedExportsOrder=["FileListItemDemo"]},"./src/components/HospitalMap/HospitalMap.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoHospitalMap:function(){return DemoHospitalMap},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return HospitalMap_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Box=__webpack_require__("./node_modules/@material-ui/core/esm/Box/Box.js"),Paper=__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js"),Grid=__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),Divider=__webpack_require__("./node_modules/@material-ui/core/esm/Divider/Divider.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),cachedScripts=[],useScript=function useScript(src){var _useState=(0,react.useState)({loaded:!1,error:!1}),_useState2=(0,slicedToArray.Z)(_useState,2),state=_useState2[0],setState=_useState2[1];return(0,react.useEffect)((function(){if(!cachedScripts.includes(src)){var script;cachedScripts.push(src);var extension=src.match(/\.\w{2,4}($|\?)/)[0];".js"===extension&&((script=document.createElement("script")).src=src,script.async=!0),".css"===extension&&((script=document.createElement("link")).href=src,script.rel="stylesheet");var onScriptLoad=function onScriptLoad(){setState({loaded:!0,error:!1})},onScriptError=function onScriptError(){var index=cachedScripts.indexOf(src);index>=0&&cachedScripts.splice(index,1),script.remove(),setState({loaded:!0,error:!0})};return script.addEventListener("load",onScriptLoad),script.addEventListener("error",onScriptError),".css"===extension&&document.head.appendChild(script),".js"===extension&&document.body.appendChild(script),function(){script.removeEventListener("load",onScriptLoad),script.removeEventListener("error",onScriptError)}}setState({loaded:!0,error:!1})}),[src]),[state.loaded,state.error]},data=__webpack_require__("./src/data/index.js"),utils=__webpack_require__("./src/utils/utils.js"),Person=__webpack_require__("./node_modules/@material-ui/icons/esm/Person.js"),MailOutline=__webpack_require__("./node_modules/@material-ui/icons/esm/MailOutline.js"),Phone=__webpack_require__("./node_modules/@material-ui/icons/esm/Phone.js"),Language=__webpack_require__("./node_modules/@material-ui/icons/esm/Language.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{title:{fontWeight:"bold",lineHeight:"normal",marginBottom:theme.spacing(1)},mapPlaceholder:{width:"100%"},map:{height:480},locations:{height:480,overflow:"auto"},location:{display:"block",margin:theme.spacing(1),lineHeight:"normal",textDecoration:"none",color:theme.palette.text.primary,cursor:"pointer","& > div":{borderRadius:theme.spacing(1),padding:theme.spacing(2)},"& p":{lineHeight:"normal"},"&:hover":{textDecoration:"none"},"&:hover > div,&.active > div":{backgroundColor:"rgba(30, 111, 214, 0.05)"}},icon:{position:"relative",top:7,marginRight:theme.spacing(2),color:theme.palette.grey.medium},divider:{margin:theme.spacing(0,3)}}}),{name:"HospitalMap"}),HospitalMap=function HospitalMap(props){var classes=useStyles();useScript("https://unpkg.com/leaflet@1.6.0/dist/leaflet.css");var _useScript=useScript("https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"),mapScriptLoaded=(0,slicedToArray.Z)(_useScript,1)[0],_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),hospitalData=_useState2[0],setHospitalData=_useState2[1],_useState3=(0,react.useState)(),_useState4=(0,slicedToArray.Z)(_useState3,2),map=_useState4[0],setMap=_useState4[1],_useState5=(0,react.useState)([]),_useState6=(0,slicedToArray.Z)(_useState5,2),markers=_useState6[0],setMarkers=_useState6[1],_useState7=(0,react.useState)([]),_useState8=(0,slicedToArray.Z)(_useState7,2),refs=_useState8[0],setRefs=_useState8[1];(0,react.useEffect)((function(){if(mapScriptLoaded&&!map){var bssMap=window.L.map("map").setView([38.5561,-90.2496],5);bssMap.on("locationerror",(function(e){console.error("Location not available: ",e),bssMap.setView([38.5561,-90.2496],5)})),bssMap.locate({setView:!0,maxZoom:7}),window.L.tileLayer("https://{s}.tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=401fa637f2f647f298b4176b24ca7ef5",{maxZoom:17,minZoom:4,attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(bssMap),setMap(bssMap)}}),[mapScriptLoaded,map]),(0,react.useEffect)((function(){if(map&&hospitalData.length>0){var pins=[];Object.keys(hospitalData).forEach((function(item,i){var hospital=hospitalData[item],gpsMarker=hospital.gps_coordinates.split(","),thisMarker=window.L.marker(gpsMarker,{title:hospital.title,i:i});pins.push(thisMarker),thisMarker.addTo(map).bindPopup(hospital.title),setMarkers((function(prev){return[].concat((0,toConsumableArray.Z)(prev),[thisMarker])}))}));map.on("popupopen popupclose",(function handlePopup(e){!function updateList(index){refs.forEach((function(ref){ref.current.classList.remove("active")})),void 0!==index&&(refs[index].current.classList.add("active"),refs[index].current.scrollIntoView({behavior:"smooth",block:"nearest"}))}("popupopen"===e.type?e.popup._source.options.i:void 0)}))}}),[map,hospitalData,refs]),(0,react.useEffect)((function(){data.Z.then((function(api){api.getHospitalList().then((function(resp){if(resp instanceof Error)throw resp;Object.keys(resp).forEach((function(item,i){setRefs((function(prev){return[].concat((0,toConsumableArray.Z)(prev),[react.createRef()])}))})),setHospitalData(resp)}))})).catch((function(error){console.error(error)}))}),[]);var updateMap=function updateMap(e){if("a"!==e.target.tagName.toLowerCase()){e.preventDefault();var cords=e.currentTarget.dataset.location.split(","),i=e.currentTarget.dataset.index;map.setView(cords,11),markers[i].openPopup()}},handleKeyDown=function handleKeyDown(e){"enter"===e.key.toLowerCase()&&updateMap(e)};return(0,jsx_runtime.jsx)(Box.Z,{className:classes.mapPlaceholder,mt:6,children:(0,jsx_runtime.jsx)(Paper.Z,{elevation:25,children:(0,jsx_runtime.jsxs)(Grid.Z,{container:!0,children:[(0,jsx_runtime.jsx)(Grid.Z,{item:!0,xs:12,sm:6,children:(0,jsx_runtime.jsx)("div",{id:"map",className:classes.map})}),(0,jsx_runtime.jsx)(Grid.Z,{item:!0,xs:12,sm:6,children:(0,jsx_runtime.jsx)(Box.Z,{className:classes.locations,children:hospitalData&&Object.keys(hospitalData).map((function(item,i){var hospital=hospitalData[item];return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:classes.location,ref:refs[i],"data-location":hospital.gps_coordinates,onClick:updateMap,"data-index":i,onKeyDown:handleKeyDown,tabIndex:"0",children:(0,jsx_runtime.jsxs)(Box.Z,{children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.title,children:hospital.title}),(0,jsx_runtime.jsxs)(Typography.Z,{children:[hospital.address_1,hospital.address_2&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[", ",hospital.address_2]}),", ",hospital.city,", ",hospital.state," ",hospital.zip,(0,jsx_runtime.jsx)("br",{})]}),(0,jsx_runtime.jsxs)(Typography.Z,{className:"breakAll",children:[hospital.poc&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Person.Z,{className:classes.icon})," ",hospital.poc," ",(0,jsx_runtime.jsx)("br",{})]}),hospital.poc_email&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(MailOutline.Z,{className:classes.icon})," ",(0,jsx_runtime.jsx)("a",{href:"mailto:".concat(hospital.poc_email),children:hospital.poc_email})," ",(0,jsx_runtime.jsx)("br",{})]}),(0,jsx_runtime.jsx)(Phone.Z,{className:classes.icon})," ",(0,jsx_runtime.jsx)("a",{href:"tel:".concat((0,utils.un)(hospital.telephone)),children:(0,utils.un)(hospital.telephone)})," ",hospital.extension&&"x".concat(hospital.extension),hospital.website&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(Language.Z,{className:classes.icon})," ",(0,jsx_runtime.jsx)("a",{href:hospital.website,rel:"noopener noreferrer",target:"_blank",children:hospital.website})]})]})]})}),i<hospitalData.length-1&&(0,jsx_runtime.jsx)(Divider.Z,{className:classes.divider})]},i)}))})})]})})})};HospitalMap.__docgenInfo={description:"",methods:[],displayName:"HospitalMap"};var HospitalMap_HospitalMap=HospitalMap;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HospitalMap/HospitalMap.js"]={name:"HospitalMap",docgenInfo:HospitalMap.__docgenInfo,path:"src/components/HospitalMap/HospitalMap.js"});var HospitalMap_stories={title:"Components/HospitalMap",component:HospitalMap_HospitalMap,argTypes:{link:{table:{defaultValue:{summary:"undefined"}}}}},DemoHospitalMap=function Template(args){return(0,jsx_runtime.jsx)(HospitalMap_HospitalMap,(0,objectSpread2.Z)({},args))}.bind({});DemoHospitalMap.storyName="HospitalMap",DemoHospitalMap.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <HospitalMap {...args} />"}},DemoHospitalMap.parameters);var __namedExportsOrder=["DemoHospitalMap"]},"./src/components/IconCard/IconCard.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoIconCard:function(){return DemoIconCard},DownloadIconCard:function(){return DownloadIconCard},NewIconCard:function(){return NewIconCard},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return IconCard_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@reach/router/es/index.js")),Card=__webpack_require__("./node_modules/@material-ui/core/esm/Card/Card.js"),Badge=__webpack_require__("./node_modules/@material-ui/core/esm/Badge/Badge.js"),CardContent=__webpack_require__("./node_modules/@material-ui/core/esm/CardContent/CardContent.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),CardActions=__webpack_require__("./node_modules/@material-ui/core/esm/CardActions/CardActions.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),KeyboardArrowRight=__webpack_require__("./node_modules/@material-ui/icons/esm/KeyboardArrowRight.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),ConditionalWrapper=__webpack_require__("./src/components/utils/ConditionalWrapper.js"),RenderContent=__webpack_require__("./src/components/utils/RenderContent.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{card:{position:"relative",width:"100%",minWidth:100,height:"100%",minHeight:250},cardContent:{display:"flex",height:"100%",width:"100%",alignItems:"flex-start",padding:theme.spacing(4,3,3,3)},cardTitle:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:"bold",lineHeight:"32px",marginBottom:theme.spacing(1)},cardIcon:{maxWidth:76,width:"100%"},cardTextContainer:{display:"flex",marginLeft:theme.spacing(3),flexGrow:1,flexDirection:"column",height:"100%"},cardText:{flexGrow:1,"& a":{display:"inline-block",lineHeight:"22px",marginBottom:theme.spacing(1)}},cardActions:{borderTop:"2px solid ".concat(theme.palette.grey[300]),padding:theme.spacing(1,0,0,0),marginTop:theme.spacing(1)}}}),{name:"IconCard"}),IconCard=function IconCard(props){var classes=useStyles(),t=(0,useTranslation.$)("a_common").t,icon=props.icon,title=props.title,_props$altText=props.altText,altText=void 0===_props$altText?"icon":_props$altText,desc=props.desc,link=props.link,linkText=props.linkText,_props$count=props.count,count=void 0===_props$count?0:_props$count,_props$badgeText=props.badgeText,badgeText=void 0===_props$badgeText?t("badges.new"):_props$badgeText,_props$download=props.download,download=void 0!==_props$download&&_props$download,cardClick=props.cardClick;return(0,jsx_runtime.jsx)(Card.Z,{className:"".concat(classes.card," IconCard"),elevation:25,children:(0,jsx_runtime.jsx)(ConditionalWrapper.Z,{condition:count>0,wrapper:function wrapper(children){return(0,jsx_runtime.jsx)(Badge.Z,{className:classes.badge,badgeContent:badgeText,component:"div",children:children})},children:(0,jsx_runtime.jsxs)(CardContent.Z,{className:"".concat(classes.cardContent," IconCardContent"),children:[icon&&(0,jsx_runtime.jsx)("img",{className:classes.cardIcon,src:"".concat(".","/assets/icons/").concat(icon),alt:altText,"aria-hidden":"true"}),(0,jsx_runtime.jsxs)("div",{className:classes.cardTextContainer,children:[(0,jsx_runtime.jsxs)("div",{className:classes.cardText,children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.cardTitle,variant:"body2",component:"h2",children:title}),(0,jsx_runtime.jsx)(Typography.Z,{component:"div",children:(0,jsx_runtime.jsx)(RenderContent.Z,{children:desc})})]}),link&&(0,jsx_runtime.jsx)(CardActions.Z,{className:classes.cardActions,children:download?(0,jsx_runtime.jsxs)(Button.Z,{href:link,color:"primary",rel:"noopener noreferrer",target:"_blank",children:[linkText," ",(0,jsx_runtime.jsx)(KeyboardArrowRight.Z,{className:classes.linkIcon})]}):(0,jsx_runtime.jsxs)(Button.Z,{color:"primary",component:es.rU,to:link,onClick:function handleClick(e){if(cardClick&&"A"===e.currentTarget.tagName)return cardClick(e)},children:[linkText," ",(0,jsx_runtime.jsx)(KeyboardArrowRight.Z,{className:classes.linkIcon})]})})]})]})})})};IconCard.displayName="IconCard",IconCard.__docgenInfo={description:"This responsive card is a custom Material UI card designed to make it easy to drop in card elements while keeping a uniform style.",methods:[],displayName:"IconCard",props:{icon:{description:"assign any icon file from the `/public/assets/icons` folder, including the file extension",type:{name:"string"},required:!0},title:{description:"the title for this card",type:{name:"string"},required:!0},altText:{description:"the alt text for the icon image. The icon is hidden to screen readers, but the alt text attribute is still required by validators",type:{name:"string"},required:!1},desc:{description:"The description text as text, html or markdown",type:{name:"string"},required:!0},link:{description:"the URL for a link provided at the bottom of the card. `linkText` is required if link is provided",type:{name:"string"},required:!1},linkText:{description:"the text for a link provided at the bottom of the card. `link` is required if linkText is provided",type:{name:"string"},required:!1},count:{description:"If a count has been provided and is greater then 0 or is `true`, then the badge will appear with the supplied `badgeText`. This is used for mostly for marking new notifications and report when newNotifications or newReports has been set in the user data.",type:{name:"union",value:[{name:"number"},{name:"bool"}]},required:!1},badgeText:{description:"The text that appears in a badge when triggered by `count`",type:{name:"string"},required:!1},download:{description:"If true, then the `link` provided will open in a new window or tab. This is used to download and preview pdf files in a new browser window or tab",type:{name:"bool"},required:!1},cardClick:{description:"callback event for `link` clicks. Mostly used by analytics.",type:{name:"func"},required:!1}}};var IconCard_IconCard=IconCard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/IconCard/IconCard.js"]={name:"IconCard",docgenInfo:IconCard.__docgenInfo,path:"src/components/IconCard/IconCard.js"});var IconCard_stories={title:"Components/Icon Card",component:IconCard_IconCard,argTypes:{icon:{},altText:{},title:{},desc:{},link:{},linkText:{},count:{table:{defaultValue:{summary:0}}},badgeText:{table:{defaultValue:{summary:"new"}}},download:{table:{defaultValue:{summary:!1}}}}},Template=function Template(args){return(0,jsx_runtime.jsx)(IconCard_IconCard,(0,objectSpread2.Z)({},args))},DemoIconCard=Template.bind({});DemoIconCard.storyName="Icon Card",DemoIconCard.args={icon:"doctor.svg",title:"Icon Card",altText:"doctor icon",desc:"La croix succulents vape unicorn, chicharrones cray sustainable hashtag deep v plaid pug. Ennui next level prism ethical woke four loko chambray. Franzen pitchfork meh, ramps try-hard keffiyeh man bun cliche kickstarter chartreuse blog selfies paleo single-origin coffee. Tumeric leggings hexagon 90's chia, snackwave adaptogen.",count:0};var NewIconCard=Template.bind({});NewIconCard.storyName="With Badge",NewIconCard.args={icon:"biomarker-tests.svg",title:"Biomarker Report",altText:"biomarker test reports icon",desc:"This is your biomarker report from samples taken on August 15th.",count:1},NewIconCard.story={parameters:{docs:{storyDescription:'Setting the `count` to a number greater than 0 on this component will reveal the badge. The `count` typically refers to the number of "new notifications" or "new reports" which is included in the user data.'}}};var DownloadIconCard=Template.bind({});DownloadIconCard.storyName="With Links",DownloadIconCard.args={icon:"reports.svg",title:"Consent Form",altText:"reports icon",desc:"Here is the consent form you sign when agreeing to participate in the NCI Biobank project.",count:0,download:!0,link:"//youtu.be/dQw4w9WgXcQ",linkText:"Preview Report"},DownloadIconCard.story={parameters:{docs:{storyDescription:"Some cards include links to other pages. If `link` and `linkText` are included, then a link will be added to the bottom of the card. If `download` is also set to true, then the link will open in a new window as if it were an external link."}}},DemoIconCard.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <IconCard {...args} />"}},DemoIconCard.parameters),NewIconCard.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <IconCard {...args} />"}},NewIconCard.parameters),DownloadIconCard.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <IconCard {...args} />"}},DownloadIconCard.parameters);var __namedExportsOrder=["DemoIconCard","NewIconCard","DownloadIconCard"]},"./src/components/IconCardMedia/IconCardMedia.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DemoIconCardMedia:function(){return DemoIconCardMedia},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return IconCardMedia_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@reach/router/es/index.js")),Card=__webpack_require__("./node_modules/@material-ui/core/esm/Card/Card.js"),CardMedia=__webpack_require__("./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js"),CardContent=__webpack_require__("./node_modules/@material-ui/core/esm/CardContent/CardContent.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),CardActions=__webpack_require__("./node_modules/@material-ui/core/esm/CardActions/CardActions.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),KeyboardArrowRight=__webpack_require__("./node_modules/@material-ui/icons/esm/KeyboardArrowRight.js"),RenderContent=__webpack_require__("./src/components/utils/RenderContent.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{root:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:"146px"},cardTitle:{fontWeight:"bold"},cardActions:{borderTop:"1px solid ".concat(theme.palette.grey[300]),padding:theme.spacing(2,0),margin:theme.spacing(0,2)}}}),{name:"IconCardMedia"}),IconCardMedia=function IconCardMedia(props){var title=props.title,desc=props.desc,image=props.image,imageTitle=props.imageTitle,link=props.link,linkText=props.linkText,classes=useStyles();return(0,jsx_runtime.jsxs)(Card.Z,{className:classes.root,elevation:25,children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(CardMedia.Z,{className:classes.media,image:image,title:imageTitle}),(0,jsx_runtime.jsxs)(CardContent.Z,{children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.cardTitle,gutterBottom:!0,variant:"body2",component:"h4",children:title}),desc&&(0,jsx_runtime.jsx)(Typography.Z,{component:"div",children:(0,jsx_runtime.jsx)(RenderContent.Z,{children:desc})})]})]}),link&&(0,jsx_runtime.jsx)(CardActions.Z,{className:classes.cardActions,children:(0,jsx_runtime.jsxs)(Button.Z,{color:"primary",component:es.rU,to:link,children:[linkText," ",(0,jsx_runtime.jsx)(KeyboardArrowRight.Z,{className:classes.linkIcon})]})})]})};IconCardMedia.displayName="IconCardMedia",IconCardMedia.__docgenInfo={description:"This responsive card is a custom Material UI card designed to make it easy to drop in card elements while keeping a uniform style. It does not display an icon despite the component name. It was modeled off the IconCard.",methods:[],displayName:"IconCardMedia",props:{title:{description:"The title for this card",type:{name:"string"},required:!0},desc:{description:"Optional descriptive text as text, html or markdown",type:{name:"string"},required:!1},image:{description:"The image file path. This file is loaded as a background image on a `div` element to take advantage of the `background-size: cover` style.  The root for media cards is `/assets/images/mediaCard/`. Within the root folder are folders for both `HD` and `standard` sized images. If attempting to load an appropriate sized image then dynamically set the path using `useMediaQuery('@media (min-resolution: 192dpi)')` as the quantifier.",type:{name:"string"},required:!0},imageTitle:{description:"Descriptive text for the image. It is added as a `title` attribute for accessibility",type:{name:"string"},required:!0},link:{description:"the URL for a link provided at the bottom of the card. `linkText` is required if link is provided",type:{name:"string"},required:!1},linkText:{description:"the text for a link provided at the bottom of the card. `link` is required if linkText is provided",type:{name:"string"},required:!1}}};var IconCardMedia_IconCardMedia=IconCardMedia;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/IconCardMedia/IconCardMedia.js"]={name:"IconCardMedia",docgenInfo:IconCardMedia.__docgenInfo,path:"src/components/IconCardMedia/IconCardMedia.js"});var IconCardMedia_stories={title:"Components/Icon Card Media",component:IconCardMedia_IconCardMedia},DemoIconCardMedia=function Template(args){return(0,jsx_runtime.jsx)(IconCardMedia_IconCardMedia,(0,objectSpread2.Z)({},args))}.bind({});DemoIconCardMedia.storyName="Icon Card Media",DemoIconCardMedia.args={title:"Would you like to know more?",desc:'Here is some <a href="https://hipsum.co/?paras=2&type=hipster-centric&start-with-lorem=1" rel=\'noopener noreferrer\' target="_blank">Hipster Ipsum</a><p>Try-hard franzen echo park helvetica, poutine kickstarter kale chips hexagon tumeric williamsburg blue bottle. Heirloom raw denim occupy actually, shaman gochujang sriracha scenester.</p><p>Taiyaki brunch shabby chic truffaut godard fingerstache, 8-bit 90\'s franzen hot chicken celiac. Meditation scenester four dollar toast kale chips, leggings echo park art party synth biodiesel microdosing snackwave lo-fi tacos irony copper mug.</p>',image:"/assets/images/mediaCard/standard/researcher-examines-slide.jpg",imageTitle:"researcher examining a slide",link:"/results",linkText:"Test Results"},DemoIconCardMedia.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <IconCardMedia {...args} />"}},DemoIconCardMedia.parameters);var __namedExportsOrder=["DemoIconCardMedia"]},"./src/components/Loading/Loading.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Loader:function(){return Loading_stories_Loader},LoaderMsg:function(){return LoaderMsg},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Loading_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),jsx_runtime=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js")),Loader=function Loader(props){return(0,jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,jsx_runtime.jsx)("img",{srcSet:"/assets/images/spinner-dna.svg",src:"/assets/images/spinner-dna.gif",alt:"loading indicator",width:"250px",style:{width:250,height:250,margin:"auto 0"}}),props.message&&(0,jsx_runtime.jsx)("span",{children:props.message})]})};Loader.displayName="Loading",Loader.__docgenInfo={description:"A stylish animated loading indicator",methods:[],displayName:"Loading",props:{message:{description:"An optional message to display below the animated loading indicator",type:{name:"string"},required:!1}}};var Loading=Loader;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Loading/Loading.js"]={name:"Loader",docgenInfo:Loader.__docgenInfo,path:"src/components/Loading/Loading.js"});var Loading_stories={title:"Components/Loader",component:Loading},Template=function Template(args){return(0,jsx_runtime.jsx)(Loading,(0,objectSpread2.Z)({},args))},Loading_stories_Loader=Template.bind({});Loading_stories_Loader.storyName="Loader";var LoaderMsg=Template.bind({});LoaderMsg.storyName="With Message",LoaderMsg.args={message:"Please wait while we sequence your DNA"};var __namedExportsOrder=["Loader","LoaderMsg"]},"./src/components/NoItems/NoItems.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NoItemsDemo:function(){return NoItemsDemo},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_NoItems__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/NoItems/NoItems.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/No Items",component:_NoItems__WEBPACK_IMPORTED_MODULE_1__.Z};var NoItemsDemo=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_NoItems__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args))}.bind({});NoItemsDemo.storyName="No Items",NoItemsDemo.args={message:"You currently have no reports waiting to be reviewed."};var __namedExportsOrder=["NoItemsDemo"]},"./src/components/Notifications/NotificationItem.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NotificationItemDemo:function(){return NotificationItemDemo},NotificationItemViewedES:function(){return NotificationItemViewedES},__namedExportsOrder:function(){return __namedExportsOrder}});__webpack_require__("./node_modules/react/index.js");var _NotificationItem__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Notifications/NotificationItem.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Notifications/Notifications Item",component:_NotificationItem__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{notification:{control:null,table:{defaultValue:{summary:"{}"}}},subject_en:{name:"en",description:"The subject text in English as text, html or markdown",table:{category:"notification",subcategory:"subject",defaultValue:{summary:"undefined"}}},subject_es:{name:"es",description:"The subject text in Spanish as text, html or markdown",table:{category:"notification",subcategory:"subject",defaultValue:{summary:"undefined"}}},message_en:{name:"en",description:"Multi-line message text in English as text, html or markdown",table:{category:"notification",subcategory:"message",defaultValue:{summary:"undefined"}}},message_es:{name:"es",description:"Multi-line message text in Spanish as text, html or markdown",table:{category:"notification",subcategory:"message",defaultValue:{summary:"undefined"}}},dateGenerated:{description:"The date this messages was sent as a raw `datestamp` number. The date format locale is set on login based on the user's language preference",table:{category:"notification",defaultValue:{summary:"undefined"}}},viewedByUser:{description:'Flag if this message has been viewed by the user. Possible values are `0` or `1` for some reason and evaluated in code as boolean. If `false` then this message will display a "new" badge',table:{category:"notification",defaultValue:{summary:"undefined"}},control:{type:"boolean"}},lang:{table:{defaultValue:{summary:"navigator.language"}}}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_NotificationItem__WEBPACK_IMPORTED_MODULE_1__.Z,{lang:args.lang,notification:{subject:{en:args.subject_en,es:args.subject_es},message:{en:args.message_en,es:args.message_es},dateGenerated:args.dateGenerated,viewedByUser:args.viewedByUser}})},NotificationItemDemo=Template.bind({});NotificationItemDemo.storyName="Notifications Item",NotificationItemDemo.args={subject_en:"Welcome to the Cancer Moonshot Biobank program",subject_es:"Bienvenido al programa Biobanco Moonshot de Cancer",message_en:"Thank you for participating in the Cancer Moonshot Biobank Program!",message_es:"Gracias por participar en el Programa de Biobanco de Cancer Moonshot!",dateGenerated:1554964189e3,viewedByUser:!1,lang:"en"};var NotificationItemViewedES=Template.bind({});NotificationItemViewedES.storyName="Viewed Item in Spanish",NotificationItemViewedES.args={subject_en:"Welcome to the Cancer Moonshot Biobank program",subject_es:"Bienvenido al programa Biobanco Moonshot de Cancer",message_en:"Thank you for participating in the Cancer Moonshot Biobank Program!",message_es:"Gracias por participar en el Programa de Biobanco de Cancer Moonshot!",dateGenerated:1554964189e3,viewedByUser:!0,lang:"es"},NotificationItemViewedES.story={parameters:{docs:{storyDescription:"Note: The date format locale is set on login based on the user's language preference, not the language setting here."}}};var __namedExportsOrder=["NotificationItemDemo","NotificationItemViewedES"]},"./src/components/Notifications/Notifications.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NotificationsDemo:function(){return NotificationsDemo},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Notifications_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),NotificationItem=__webpack_require__("./src/components/Notifications/NotificationItem.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{titleWithIcon:{display:"flex",alignItems:"center",marginBottom:theme.spacing(3)},titleIcon:{marginRight:theme.spacing(3),width:"49px"}}}),{name:"Notifications"}),Notifications=function Notifications(props){var classes=useStyles(),onLoad=props.onLoad,onUnload=props.onUnload,notifications=props.notifications,lang=props.lang,count=notifications?notifications.length:0,t=(0,useTranslation.$)("a_common").t;return(0,react.useEffect)((function(){onLoad&&onLoad()}),[onLoad]),(0,react.useEffect)((function(){return function(){onUnload&&onUnload()}}),[onUnload]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:classes.titleWithIcon,children:[(0,jsx_runtime.jsx)("img",{className:classes.titleIcon,src:"".concat(".","/assets/icons/notifications.svg"),alt:t("a_common:icons.notifications"),"aria-hidden":"true"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"h2",component:"h2",children:t("components.notificationView.pageTitle",{count:count})})]}),count?notifications.map((function(item,i){return(0,jsx_runtime.jsx)(NotificationItem.Z,{notification:item,lang:lang},i)})):(0,jsx_runtime.jsx)(Typography.Z,{variant:"h6",className:classes.header,children:t("components.notificationView.no_results")})]})};Notifications.displayName="Notifications",Notifications.__docgenInfo={description:'A listing of notifications. On viewing notifications, all "new" items are marked as read.',methods:[],displayName:"Notifications",props:{notifications:{description:"An array of notifications as structured for the `NotificationItem` component",type:{name:"arrayOf",value:{name:"object"}},required:!1},lang:{description:"The language preference for this user",type:{name:"enum",value:[{value:"'en'",computed:!1},{value:"'es'",computed:!1}]},required:!1},onLoad:{description:"The callback when notifications are first loaded",type:{name:"func"},required:!1},onUnload:{description:"The callback when the component unloads (returning to the Dashboard)",type:{name:"func"},required:!1}}};var Notifications_Notifications=Notifications;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Notifications/Notifications.js"]={name:"Notifications",docgenInfo:Notifications.__docgenInfo,path:"src/components/Notifications/Notifications.js"});var Notifications_stories={title:"Components/Notifications/Notifications Listing",component:Notifications_Notifications,argTypes:{notifications:{description:"An array of notifications as structured for the `NotificationItem` component",table:{defaultValue:{summary:"[]"}}},lang:{table:{defaultValue:{summary:"en"}}}}},NotificationsDemo=function Template(args){return(0,jsx_runtime.jsx)(Notifications_Notifications,(0,objectSpread2.Z)({},args))}.bind({});NotificationsDemo.storyName="Notifications Listing",NotificationsDemo.args={notifications:[{portalNotificationId:2,from:"Madeline Hamill, Dr. of Oncology, at [BSS Name]",subject:{en:"Welcome to the Cancer Moonshot Biobank program",es:"Bienvenido al programa Biobanco Moonshot de Cancer"},message:{en:"Thank you for participating in the Cancer Moonshot Biobank Program!",es:"Gracias por participar en el Programa de Biobanco de Cancer Moonshot!"},dateGenerated:1554964189e3,viewedByUser:!0},{portalNotificationId:3,from:"MOCHA Labs",subject:{en:"We added a biomarker report to Marco's account",es:"Agregamos un &aacute; informe de biomarcadores a la cuenta de Marco"},message:{en:"<p>Dear Marco,</p><p>We added a biomarker report to Marco's account. Log into the PPE Portal to view this report.</p><h3>Why is this important?</h3><p>Your biomarker report may inform your treatment. Each report is available to the patient, their provider, and a family member if they have been added to the patient account.</p><div> </div><h3>What action should I take?</h3><p>For patients and family members: set up a time to talk with your provider about these results.</p><p>For providers: review the report and any supporting NCI materials to determine whether or not you should alter your patient&rsquo;s treatment.</p><div> </div><p>If you have questions, you can reply to this email or call us at (202) 000 &ndash; 0000.</p><p>Thank you for participating in the Cancer Moonshot Biobank Program!</p><div> </div><p>NCI Program Staff</p>",es:"<p> Estimado Marco, </p> <p> Agregamos un informe de biomarcadores a la cuenta de Marco. Inicie sesin en el portal PPE para ver este informe. </p> <h3> Por &aacute; qu es importante? </h3> <p>Su informe de biomarcadores puede informar su tratamiento. Cada informe est disponible para el paciente, su proveedor y un miembro de la familia si se han agregado a la cuenta del paciente. </p> <div> </div> <h3> Qu medidas debo tomar? </h3><p>Para pacientes y familiares: establezca un horario para hablar con su proveedor sobre estos resultados. </p> <p> Para proveedores: revise el informe y cualquier material de apoyo del NCI para determinar si debe o no alterar a su paciente&rsquo;s tratamiento. </p> <div> </div> <p> Si tiene preguntas, puede responder a este correo electrnico o llamarnos al (202) 000&ndash;0000. </p> <p> Gracias por participar en el Programa de Biobanco de Cancer Moonshot! </p> <div> </div> <p> Personal del programa del NCI </p>"},dateGenerated:1556000989e3,viewedByUser:!1}],lang:"en"};var __namedExportsOrder=["NotificationsDemo"]},"./src/components/PatientList/PatientList.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PatientListDemo:function(){return PatientListDemo},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PatientList_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Box=__webpack_require__("./node_modules/@material-ui/core/esm/Box/Box.js"),Grid=__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),TextField=__webpack_require__("./node_modules/@material-ui/core/esm/TextField/TextField.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),pubsub=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_default=__webpack_require__.n(pubsub),PatientListItem=__webpack_require__("./src/components/PatientList/PatientListItem.js"),AddParticipant=__webpack_require__("./src/components/AddParticipant/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){var _textField;return{titleWithIcon:{display:"flex",alignItems:"center"},cardIcon:{marginRight:theme.spacing(3),width:"49px"},title:{marginBottom:theme.spacing(5)},grid_textField:(0,defineProperty.Z)({textAlign:"center"},theme.breakpoints.up("sm"),{textAlign:"right"}),textField:(_textField={margin:0,width:"90%",backgroundColor:theme.palette.common.white},(0,defineProperty.Z)(_textField,theme.breakpoints.up("sm"),{width:"auto",minWidth:268}),(0,defineProperty.Z)(_textField,theme.breakpoints.up("md"),{minWidth:300}),_textField)}}),{name:"PatientList"}),PatientList=function PatientList(props){var patients=props.patients,patientsUpdated=props.patientsUpdated,classes=useStyles(),_useState=(0,react.useState)(patients),_useState2=(0,slicedToArray.Z)(_useState,2),patientList=_useState2[0],setPatientList=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),dialogOpen=_useState4[0],setDialogOpen=_useState4[1],_useState5=(0,react.useState)(!1),_useState6=(0,slicedToArray.Z)(_useState5,2),hasSearched=_useState6[0],setHasSearched=_useState6[1],_useState7=(0,react.useState)(),_useState8=(0,slicedToArray.Z)(_useState7,2),patientToActivate=_useState8[0],setPatientToActivate=_useState8[1],t=(0,useTranslation.$)("a_common").t,allPatients=(0,toConsumableArray.Z)(patients);(0,react.useEffect)((function(){setPatientList(patients)}),[patientsUpdated,patients]);var activateUser=function activateUser(patient){pubsub_default().publish("ANALYTICS",{events:"event73",eventName:"NewParticipantStart",prop42:"BioBank_NewParticipant|Start",eVar42:"BioBank_NewParticipant|Start"}),setPatientToActivate(patient),setDialogOpen(!0)};return(0,jsx_runtime.jsxs)(Box.Z,{className:classes.root,children:[(0,jsx_runtime.jsxs)(Grid.Z,{container:!0,className:classes.title,spacing:3,alignItems:"center",children:[(0,jsx_runtime.jsx)(Grid.Z,{item:!0,xs:12,sm:6,children:(0,jsx_runtime.jsxs)("div",{className:classes.titleWithIcon,children:[(0,jsx_runtime.jsx)("img",{className:classes.cardIcon,src:"".concat(".","/assets/icons/patients.svg"),alt:t("a_common:icons.user_profile"),"aria-hidden":"true"}),(0,jsx_runtime.jsx)(Typography.Z,{className:classes.cardTitle,variant:"h2",component:"h2",children:t("components.participantList.title")})]})}),(0,jsx_runtime.jsx)(Grid.Z,{item:!0,xs:12,sm:6,className:classes.grid_textField,children:(0,jsx_runtime.jsx)(TextField.Z,{id:"outlined-search",label:t("components.participantList.search_label"),type:"search",className:classes.textField,margin:"normal",variant:"outlined",onChange:function filterPatients(event){var filteredList=allPatients.filter((function(item){return-1!=="".concat(item.firstName," ").concat(item.lastName).toLowerCase().search(event.target.value.toLowerCase())}));setPatientList(filteredList),!1===hasSearched&&(pubsub_default().publish("ANALYTICS",{events:"event2",eventName:"ParticipantNameSearch",prop11:"BioBank Account Participant Name Search",eVar11:"BioBank Account Participant Name Search"}),setHasSearched(!0))}})})]}),(0,jsx_runtime.jsx)(Box.Z,{children:patientList&&patientList.map((function(patient,i){return(0,jsx_runtime.jsx)(PatientListItem.Z,{patient:patient,activate:activateUser},i)}))}),(0,jsx_runtime.jsx)(AddParticipant.Z,{open:dialogOpen,patient:patientToActivate,setParentState:function closeUploadDialog(success){setDialogOpen(!1)}})]})};PatientList.displayName="PatientList",PatientList.__docgenInfo={description:"",methods:[],displayName:"PatientList",props:{patients:{description:"An array of patients as structured for the `PatientListItem` component",type:{name:"arrayOf",value:{name:"object"}},required:!1},patientsUpdated:{description:"`timestamp` flag used to trigger a rerender of the patient list once a patient's account has been activated. This could not be done using an updated patients arrays since it is a deep comparison that will not trigger component rerenders",type:{name:"number"},required:!1}}};var PatientList_PatientList=PatientList;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PatientList/PatientList.js"]={name:"PatientList",docgenInfo:PatientList.__docgenInfo,path:"src/components/PatientList/PatientList.js"});var Login_context=__webpack_require__("./src/components/login/Login.context.js"),PatientList_stories={title:"Components/Patient List/Patient Listing",component:PatientList_PatientList,argTypes:{patients:{table:{defaultValue:{summary:"[]"}}},patientsUpdated:{control:"date",table:{defaultValue:{summary:"undefined"}}}}},PatientListDemo=function Template(args){return(0,jsx_runtime.jsx)(Login_context.Oj.Provider,{value:[{patients:args.patients}],children:(0,jsx_runtime.jsx)(PatientList_PatientList,(0,objectSpread2.Z)({},args))})}.bind({});PatientListDemo.storyName="Patient Listing",PatientListDemo.args={patients:[{firstName:"Alfred",lastName:"Tromp",patientId:"SILxki4k",email:"SkyBlue@Chauncey.tv",phoneNumber:"559-428-5906",allowEmailNotification:!0,hasNewReports:!0,userType:"PPE_PARTICIPANT",roleName:"ROLE_PPE_PARTICIPANT",dateCreated:1567606345e3},{firstName:"Thurman",lastName:"Kautzer",patientId:"AhBW4XAy",email:"CadetBlue@Keagan.biz",phoneNumber:"018-374-1064",allowEmailNotification:!1,userType:"PPE_PARTICIPANT",roleName:"ROLE_PPE_PARTICIPANT",dateCreated:1550129389e3},{firstName:"Gonzalo",lastName:"Yost",patientId:"MmF2H0C8",email:"RoyalBlue@Wiza.org",phoneNumber:"905-341-7482",allowEmailNotification:!0,userType:"PPE_PARTICIPANT",roleName:"ROLE_PPE_PARTICIPANT",dateCreated:1554791389e3}]};var __namedExportsOrder=["PatientListDemo"]},"./src/components/PatientList/PatientListItem.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PatientListItemDemo:function(){return PatientListItemDemo},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_PatientListItem__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/PatientList/PatientListItem.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Patient List/Patient List Item",component:_PatientListItem__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{patient:{control:null},firstName:{description:"The participant's first name",table:{category:"patient",defaultValue:{summary:"undefined"}}},lastName:{description:"The participant's last name",table:{category:"patient",defaultValue:{summary:"undefined"}}},patientId:{description:"The participant's email, used by the `AddParticipantInfoDialog` component",table:{category:"patient",defaultValue:{summary:"undefined"}}},email:{description:"The participant's preferred language, used by the `AddParticipantInfoDialog` component",table:{category:"patient",defaultValue:{summary:"undefined"}}},lang:{description:"The participant's id, used as a visual reference and by the `AddParticipantInfoDialog` component",table:{category:"patient",defaultValue:{summary:"en"}}},dateCreated:{description:"The `timestamp` date when this participant was added to the portal",control:"date",table:{category:"patient",defaultValue:{summary:"undefined"}}},hasNewFiles:{description:'Flag if this participant has new biomarker reports or new documents. Will display a yellow "new document" chip',table:{category:"patient",defaultValue:{summary:!1}}},isActiveBiobankParticipant:{description:'Flag if this participant is no longer participating in the program. Will display an orange "not participating" chip',table:{category:"patient",defaultValue:{summary:!0}}},portalAccountStatus:{description:"Flag if this participant is either new to the system or has terminated their account. The whole card becomes green and displays a green \"New Participant\" chip if 'ACCT_NEW'.",control:{type:"radio",options:[void 0,"ACCT_NEW","ACCT_TERMINATED_AT_PPE"]},table:{category:"patient",defaultValue:{summary:"undefined"}}}}};var PatientListItemDemo=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_PatientListItem__WEBPACK_IMPORTED_MODULE_1__.Z,{patient:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args)})}.bind({});PatientListItemDemo.storyName="Patient List Item",PatientListItemDemo.args={firstName:"Thurman",lastName:"Kautzer",patientId:"AhBW4XAy",email:"CadetBlue@Keagan.biz",lang:"en",dateCreated:1550129389e3,hasNewFiles:!1,isActiveBiobankParticipant:!0,portalAccountStatus:void 0};var __namedExportsOrder=["PatientListItemDemo"]},"./src/components/Status/Status.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StatusDemo:function(){return StatusDemo},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Status__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/Status/Status.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Status",component:_Status__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{state:{table:{defaultValue:{summary:"info"}}},title:{},message:{},fullWidth:{table:{defaultValue:{summary:!1}}}}};var StatusDemo=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Status__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args))}.bind({});StatusDemo.storyName="Status Demo",StatusDemo.args={title:"Did you know?",message:"You might be made of spam."};var __namedExportsOrder=["StatusDemo"]},"./src/components/inputs/EmailOption/EmailOption.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EmailOptionDemo:function(){return EmailOptionDemo},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return EmailOption_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),FormControl=__webpack_require__("./node_modules/@material-ui/core/esm/FormControl/FormControl.js"),FormLabel=__webpack_require__("./node_modules/@material-ui/core/esm/FormLabel/FormLabel.js"),FormControlLabel=__webpack_require__("./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js"),Checkbox=__webpack_require__("./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{formControl:{margin:theme.spacing(2,0,1,0),minWidth:"200px"},formLegend:{fontWeight:700,color:theme.palette.text.primary,transform:"none",marginBottom:theme.spacing(1)}}}),{name:"EmailOption"}),EmailOption=function EmailOption(props){var _props$value=props.value,value=void 0===_props$value||_props$value,_props$editMode=props.editMode,editMode=void 0!==_props$editMode&&_props$editMode,onClick=props.onClick,classes=useStyles(),t=(0,useTranslation.$)("a_accountSettings").t,_useState=(0,react.useState)(value),_useState2=(0,slicedToArray.Z)(_useState,2),checked=_useState2[0],setChecked=_useState2[1];(0,react.useEffect)((function(){return setChecked(value),setChecked(value)}),[value]);return(0,jsx_runtime.jsxs)(FormControl.Z,{component:"fieldset",className:classes.formControl,children:[(0,jsx_runtime.jsx)(FormLabel.Z,{htmlFor:"notifications-input",component:"legend",className:classes.formLegend,children:t("profile.notifications.title")}),editMode?(0,jsx_runtime.jsx)(FormControlLabel.Z,{control:(0,jsx_runtime.jsx)(Checkbox.Z,{id:"notifications-input",color:"primary",checked:checked,onChange:function handleChange(){setChecked(!checked),onClick&&onClick(!checked)}}),label:t("profile.notifications.edit_label"),labelPlacement:"end"}):(0,jsx_runtime.jsxs)("span",{children:[t("profile.notifications.label")," ",t(checked?"profile.notifications.on":"profile.notifications.off")]})]})};EmailOption.displayName="EmailOption",EmailOption.__docgenInfo={description:"",methods:[],displayName:"EmailOption",props:{value:{description:"The phone number formatted as (###)###-####",type:{name:"bool"},required:!1},editMode:{description:"Set this field to edit mode or read only mode",type:{name:"bool"},required:!1}}};var EmailOption_EmailOption=EmailOption;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/inputs/EmailOption/EmailOption.js"]={name:"EmailOption",docgenInfo:EmailOption.__docgenInfo,path:"src/components/inputs/EmailOption/EmailOption.js"});var EmailOption_stories={title:"Components/Inputs/Email Option",component:EmailOption_EmailOption,argTypes:{value:{table:{defaultValue:{summary:!0}}},editMode:{table:{defaultValue:{summary:!1}}}}},EmailOptionDemo=function Template(args){return(0,jsx_runtime.jsx)(EmailOption_EmailOption,(0,objectSpread2.Z)({},args))}.bind({});EmailOptionDemo.args={value:!0,editMode:!0},EmailOptionDemo.storyName="Email Option";var __namedExportsOrder=["EmailOptionDemo"]},"./src/components/inputs/InputGroupError/InputGroupError.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InputGroupErrorAddress:function(){return InputGroupErrorAddress},InputGroupErrorRadio:function(){return InputGroupErrorRadio},InputGroupErrorText:function(){return InputGroupErrorText},InputGroupErrorTextarea:function(){return InputGroupErrorTextarea},InputGroupErrorToggleBtn:function(){return InputGroupErrorToggleBtn},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@material-ui/core/esm/TextField/TextField.js")),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@material-ui/core/esm/RadioGroup/RadioGroup.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@material-ui/core/esm/Radio/Radio.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@material-ui/core/esm/FormControl/FormControl.js"),_material_ui_lab__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButtonGroup/ToggleButtonGroup.js"),_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_InputGroupError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/inputs/InputGroupError/InputGroupError.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children"],useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.Z)((function(theme){return{root:{"& .MuiTextField-root":{margin:theme.spacing(1),width:"25ch"}}}}));__webpack_exports__.default={title:"Components/Inputs/InputGroupError",component:_InputGroupError__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{error:{table:{defaultValue:{summary:!1}}},errorMessage:{table:{defaultValue:{summary:""}}},children:{table:{defaultValue:{summary:"ReactNode"}},control:{type:null}}}};var Template=function Template(args){var children=args.children,rest=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(args,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_InputGroupError__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},rest),{},{children:children}))},textField=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"Enter your name",variant:"outlined"}),InputGroupErrorText=Template.bind({});InputGroupErrorText.storyName="Text Input",InputGroupErrorText.args={error:!1,errorMessage:"Please fill in the input",children:textField};var toggleBtn=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_7__.Z,{exclusive:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__.Z,{value:"Yes",children:"Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__.Z,{value:"No",children:"No"})]}),InputGroupErrorToggleBtn=Template.bind({});InputGroupErrorToggleBtn.storyName="Toggle Button",InputGroupErrorToggleBtn.args={error:!0,errorMessage:"Please select an option",children:toggleBtn};var radioField=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{name:"changeOption",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{value:"close",control:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.Z,{color:"primary"}),label:"Close your online account"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{value:"leave",control:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.Z,{color:"primary"}),label:"Leave the Biobank"})]}),InputGroupErrorRadio=Template.bind({});InputGroupErrorRadio.storyName="Radio Group",InputGroupErrorRadio.args={error:!0,errorMessage:"Please select an option",children:radioField};var textarea=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.Z,{component:"fieldset",style:{width:"100%"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"Reason for leaving",multiline:!0,rows:"6",margin:"normal",variant:"outlined",helperText:"1000 character limit",inputProps:{maxLength:1e3}})}),InputGroupErrorTextarea=Template.bind({});InputGroupErrorTextarea.storyName="Textarea",InputGroupErrorTextarea.args={error:!0,errorMessage:"You must supply a reason for leaving",children:textarea};var Address=function Address(){var classes=useStyles();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.Z,{component:"fieldset",className:classes.root,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"First name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"Last name"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"Street"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"City"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"State"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{label:"Zip code"})]})]})},InputGroupErrorAddress=Template.bind({});InputGroupErrorAddress.storyName="Multiple Inputs",InputGroupErrorAddress.args={error:!0,errorMessage:"Please complete the address form",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Address,{})};var __namedExportsOrder=["InputGroupErrorText","InputGroupErrorToggleBtn","InputGroupErrorRadio","InputGroupErrorTextarea","InputGroupErrorAddress"]},"./src/components/inputs/LangOption/LangOptions.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LangOptionDemo:function(){return LangOptionDemo},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_LangOption__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/inputs/LangOption/LangOption.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Inputs/Language Option",component:_LangOption__WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{id:{table:{defaultValue:{summary:"language-input"}}},label:{table:{defaultValue:{summary:"undefined"}}},helperText:{table:{defaultValue:{summary:"undefined"}}},value:{table:{defaultValue:{summary:"undefined"}}},editMode:{table:{defaultValue:{summary:!1}}},onChange:{table:{defaultValue:{summary:"undefined"}},control:{type:null}}}};var LangOptionDemo=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_LangOption__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args))}.bind({});LangOptionDemo.storyName="Language Option",LangOptionDemo.args={label:"Preferred language",helperText:"Please select one",value:"en",editMode:!0};var __namedExportsOrder=["LangOptionDemo"]},"./src/components/inputs/PhoneNumber/PhoneNumber.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PhoneNumberDemo:function(){return PhoneNumberDemo},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PhoneNumber_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),reactTextMask=__webpack_require__("./node_modules/react-text-mask/dist/reactTextMask.js"),reactTextMask_default=__webpack_require__.n(reactTextMask),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),FormControl=__webpack_require__("./node_modules/@material-ui/core/esm/FormControl/FormControl.js"),TextField=__webpack_require__("./node_modules/@material-ui/core/esm/TextField/TextField.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["inputRef"],useStyles=(0,makeStyles.Z)((function(theme){return{formControl:{minWidth:"200px","& .MuiInput-formControl":{marginTop:20},"& .MuiInput-underline:before":{display:"none"}},label:{fontWeight:700,color:theme.palette.text.primary,transform:"none"},helperText:{marginBottom:theme.spacing(2)}}}),{name:"PhoneNumber"}),selectAfterUserInput=function selectAfterUserInput(event){var input=event.target,i=input.value.indexOf("");-1===i&&(i=input.value.length),setTimeout((function(){input.setSelectionRange(i,i)}),0)},TextMaskCustom=function TextMaskCustom(props){var inputRef=props.inputRef,other=(0,objectWithoutProperties.Z)(props,_excluded);return(0,jsx_runtime.jsx)(reactTextMask_default(),(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{ref:function ref(_ref){inputRef(_ref?_ref.inputElement:null)},mask:["(",/[2-9]/,/\d/,/\d/,")"," ",/[2-9]/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"",showMask:!0,onFocus:selectAfterUserInput}))},PhoneNumber=function PhoneNumber(props){var value=props.value,_props$editMode=props.editMode,editMode=void 0!==_props$editMode&&_props$editMode,_props$error=props.error,error=void 0!==_props$error&&_props$error,onChange=props.onChange,classes=useStyles(),t=(0,useTranslation.$)("a_accountSettings").t,_useState=(0,react.useState)(value||"( ) -"),_useState2=(0,slicedToArray.Z)(_useState,2),phoneNum=_useState2[0],setPhoneNum=_useState2[1];(0,react.useEffect)((function(){setPhoneNum(value)}),[value]);return(0,jsx_runtime.jsx)(FormControl.Z,{className:classes.formControl,margin:"normal",children:(0,jsx_runtime.jsx)(TextField.Z,{label:t("profile.phone.title"),error:error,value:phoneNum,onChange:function handleChange(event){setPhoneNum(event.target.value),onChange&&onChange(event.target.value)},id:"phone-number-input",variant:editMode?"outlined":"standard",helperText:editMode?t("profile.phone.helper_text"):"",InputProps:{inputComponent:TextMaskCustom,readOnly:!editMode},InputLabelProps:{shrink:!0,className:classes.label,error:error},FormHelperTextProps:{className:classes.helperText}})})};PhoneNumber.displayName="PhoneNumber",PhoneNumber.__docgenInfo={description:"",methods:[],displayName:"PhoneNumber",props:{value:{description:"The phone number formatted as (###)###-####",type:{name:"string"},required:!1},editMode:{description:"Set this field to edit mode or read only mode",type:{name:"bool"},required:!1},error:{description:"Flag this component as having an error",type:{name:"bool"},required:!1},onChange:{description:"callback function passing the `value`",type:{name:"func"},required:!1}}};var PhoneNumber_PhoneNumber=PhoneNumber;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/inputs/PhoneNumber/PhoneNumber.js"]={name:"PhoneNumber",docgenInfo:PhoneNumber.__docgenInfo,path:"src/components/inputs/PhoneNumber/PhoneNumber.js"});var PhoneNumber_stories={title:"Components/Inputs/Phone Number",component:PhoneNumber_PhoneNumber,argTypes:{value:{table:{defaultValue:{summary:"( ) -"}}},editMode:{table:{defaultValue:{summary:!1}}},error:{table:{defaultValue:{summary:!1}}},onChange:{table:{defaultValue:{summary:"undefined"}},control:{type:null}}}},PhoneNumberDemo=function Template(args){return(0,jsx_runtime.jsx)(PhoneNumber_PhoneNumber,(0,objectSpread2.Z)({},args))}.bind({});PhoneNumberDemo.storyName="Phone Number",PhoneNumberDemo.args={value:"7038675309",editMode:!0};var __namedExportsOrder=["PhoneNumberDemo"]},"./src/components/login/LoginButton/LoginButton.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Button:function(){return LoginButton_stories_Button},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return LoginButton_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/@reach/router/es/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),pubsub=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_default=__webpack_require__.n(pubsub),Login_context=__webpack_require__("./src/components/login/Login.context.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),process=__webpack_require__("./node_modules/process/browser.js"),LoginButton=function LoginButton(props){var _useContext=(0,react.useContext)(Login_context.Oj),auth=(0,slicedToArray.Z)(_useContext,1)[0].auth,location=(0,es.TH)(),_props$isAccount=props.isAccount,isAccount=void 0===_props$isAccount?location.pathname.includes("account"):_props$isAccount,t=(0,useTranslation.$)("common").t,handleClick=function handleClick(){auth?isAccount?(pubsub_default().publish("ANALYTICS",{eventName:"Sign out",events:"event26",prop53:"BioBank_TopNav|Sign-Out",eVar53:"BioBank_TopNav|Sign-Out"}),sessionStorage.setItem("isDashboardTracked",!1),window.$role="Public",window.location.assign(process.env.REACT_APP_LOGOUT_LINK)):(0,es.c4)("/account"):(pubsub_default().publish("ANALYTICS",{eventName:"Sign in",events:"event26",prop53:"BioBank_TopNav|Sign-In",eVar53:"BioBank_TopNav|Sign-In"}),window.location.assign("".concat(process.env.REACT_APP_LOGIN_LINK,"?date=").concat(Date.now())))};return auth?isAccount?(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",color:"primary",onClick:handleClick,children:t("buttons.sign_out")}):(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",color:"primary",onClick:handleClick,children:t("buttons.your_account")}):(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",color:"primary",onClick:handleClick,children:t("buttons.sign_in")})};LoginButton.displayName="LoginButton",LoginButton.__docgenInfo={description:"The login button will change state according to the user's login state",methods:[],displayName:"LoginButton",props:{isAccount:{description:"state when an authenticated user is in the account dashboard",type:{name:"bool"},required:!1}}};var LoginButton_LoginButton=LoginButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/login/LoginButton/LoginButton.js"]={name:"LoginButton",docgenInfo:LoginButton.__docgenInfo,path:"src/components/login/LoginButton/LoginButton.js"});var LoginButton_stories={title:"Components/Login Button",component:LoginButton_LoginButton,argTypes:{authenticated:{type:"boolean",description:"state once a user has been authenticated",table:{type:{summary:"bool"},defaultValue:{summary:!1}}},isAccount:{table:{defaultValue:{summary:!1}}}}},LoginButton_stories_Button=function Template(args){var path=args.isAccount?"/account":"/",source=(0,es.Xv)(path),history=(0,es.fi)(source);return(0,jsx_runtime.jsx)(Login_context.Oj.Provider,{value:[{auth:args.authenticated}],children:(0,jsx_runtime.jsx)(es.vR,{history:history,children:(0,jsx_runtime.jsx)(LoginButton_LoginButton,{})})})}.bind({});LoginButton_stories_Button.storyName="Login Button",LoginButton_stories_Button.args={authenticated:!1,isAccount:!1},LoginButton_stories_Button.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\n  const path = args.isAccount ? "/account" : "/"\n  const source = createMemorySource(path)\n  const history = createHistory(source)\n\n  return (\n    <LoginContext.Provider value={[{auth: args.authenticated}]}>\n      <LocationProvider history={history}>\n        <LoginButton />\n      </LocationProvider>\n    </LoginContext.Provider>\n  )\n}'}},LoginButton_stories_Button.parameters);var __namedExportsOrder=["Button"]},"./src/components/region/Header/MenuGroup/MenuGroup.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Menu:function(){return Menu},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return MenuGroup_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/@reach/router/es/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),withStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),MenuItem=__webpack_require__("./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),Popper=__webpack_require__("./node_modules/@material-ui/core/esm/Popper/Popper.js"),Grow=__webpack_require__("./node_modules/@material-ui/core/esm/Grow/Grow.js"),Paper=__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js"),ClickAwayListener=__webpack_require__("./node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js"),MenuList=__webpack_require__("./node_modules/@material-ui/core/esm/MenuList/MenuList.js"),pubsub=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_default=__webpack_require__.n(pubsub),ConditionalWrapper=__webpack_require__("./src/components/utils/ConditionalWrapper.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{popper:{position:"fixed",zIndex:-1},button:{borderRadius:0,fontWeight:"normal"},active:{borderBottom:"5px solid ".concat(theme.palette.primary.main),borderRadius:0,marginTop:5,fontWeight:"bold"},activePopper:{zIndex:"10 !important"},menuList:{padding:0,"& .Mui-selected,& .Mui-selected:focus,& .Mui-selected:hover":{backgroundColor:theme.palette.navy.dark,color:theme.palette.common.white,fontWeight:600,padding:"6px 16px","& a":{color:theme.palette.common.white}}}}}),{name:"MenuGroup"}),StyledMenuItem=(0,withStyles.Z)((function(theme){return{root:{borderBottom:"1px solid #ccc",padding:0,"&:last-child":{borderBottom:"none"},"& a":{flexGrow:1,color:theme.palette.common.black,textDecoration:"none",padding:"6px 16px"},"&:focus":{backgroundColor:"rgba(0,0,0,.08)"}}}}),{name:"StyledMenuItem"})((function(props){return(0,jsx_runtime.jsx)(MenuItem.Z,(0,objectSpread2.Z)({},props))})),MenuGroup=function MenuGroup(props){var classes=useStyles(),randomNum=Math.floor(1e3*Math.random())+1,_props$index=props.index,index=void 0===_props$index?randomNum:_props$index,menuText=props.menuText,active=props.active,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),open=_useState2[0],setOpen=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),popperClass=_useState4[0],setPopperClass=_useState4[1],anchorRef=(0,react.useRef)(null),containerNode=document.querySelector("#root .transitionGroup"),handleClose=function handleClose(event){event.target.classList.contains("Mui-selected")||anchorRef.current&&anchorRef.current.contains(event.target)||(event.currentTarget!==window.document&&pubsub_default().publish("ANALYTICS",{eventName:"ToggleMenuLink",events:"event28",prop53:"BioBank_TopNav|".concat(menuText,"|").concat(event.target.textContent),eVar53:"BioBank_TopNav|".concat(menuText,"|").concat(event.target.textContent)}),setOpen(!1),setPopperClass(!1))},handleListKeyDown=function handleListKeyDown(event){"Tab"===event.key&&(event.preventDefault(),setOpen(!1),setPopperClass(!1))},handleListItemKeyDown=function handleListItemKeyDown(event){"Enter"===event.key&&event.target.firstChild.click()},focusItem=function focusItem(event){event.currentTarget.focus()},location=(0,es.TH)().pathname,prevOpen=(0,react.useRef)(open);return(0,react.useEffect)((function(){var activePoppers=document.querySelectorAll('[class*="active-popper"]');!0===prevOpen.current&&!1===open&&activePoppers.length<2&&anchorRef.current.focus(),prevOpen.current=open}),[open]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.Z,{ref:anchorRef,"aria-controls":"menu-list-grow-".concat(index),"aria-haspopup":"true",onClick:function handleToggle(){setOpen((function(prevOpen){return!prevOpen})),setPopperClass((function(prev){return!prev&&classes.activePopper})),pubsub_default().publish("ANALYTICS",{eventName:"ToggleMenuReveal",events:"event26",prop53:"BioBank_TopNav|".concat(menuText),eVar53:"BioBank_TopNav|".concat(menuText)})},className:active?"".concat(classes.active," active"):classes.button,children:menuText}),(0,jsx_runtime.jsx)(Popper.Z,{className:"".concat(classes.popper," ").concat(popperClass),open:open,anchorEl:anchorRef.current,keepMounted:!0,transition:!0,placement:"bottom-start",container:containerNode,modifiers:{preventOverflow:{boundariesElement:"viewport",escapeWithReference:!0}},children:function children(_ref){var TransitionProps=_ref.TransitionProps;return(0,jsx_runtime.jsx)(Grow.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},TransitionProps),{},{style:{transformOrigin:"left top"},children:(0,jsx_runtime.jsx)(Paper.Z,{id:"menu-list-grow-".concat(index),elevation:1,square:!0,children:(0,jsx_runtime.jsx)(ClickAwayListener.Z,{onClickAway:handleClose,children:(0,jsx_runtime.jsx)(MenuList.Z,{className:classes.menuList,autoFocusItem:open,onKeyDown:handleListKeyDown,children:react.Children.map(props.children,(function(child){return(0,jsx_runtime.jsx)(StyledMenuItem,{onClick:handleClose,onKeyDown:handleListItemKeyDown,onMouseOver:focusItem,selected:location===child.props.href,className:child.props.className,children:(0,jsx_runtime.jsx)(ConditionalWrapper.Z,{condition:location!==child.props.href,wrapper:function wrapper(children){return(0,jsx_runtime.jsx)(es.rU,{to:child.props.href,children:children})},children:(0,jsx_runtime.jsx)("span",{children:child.props.children})})})}))})})})}))}})]})};MenuGroup.displayName="MenuGroup",MenuGroup.__docgenInfo={description:"Dropdown navigation menu component used in the top level global navigation on desktop\n\nThe active menu item is dynamically selected based on the app's location matching a child's `href`",methods:[],displayName:"MenuGroup",props:{index:{description:"unique index of this menu group",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},menuText:{description:"text for the top level menu button",type:{name:"string"},required:!0},active:{description:"sets the active state for this menu",type:{name:"bool"},required:!1},children:{description:"menu items that are anchor elements",type:{name:"node"},required:!0}}};var MenuGroup_MenuGroup=MenuGroup;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/region/Header/MenuGroup/MenuGroup.js"]={name:"MenuGroup",docgenInfo:MenuGroup.__docgenInfo,path:"src/components/region/Header/MenuGroup/MenuGroup.js"});var MenuGroup_stories={title:"Components/Menu Group",component:MenuGroup_MenuGroup,argTypes:{index:{table:{defaultValue:{summary:"random 4 digit number"}}},menuText:{table:{defaultValue:{summary:"undefined"}}},active:{table:{defaultValue:{summary:!1}}},children:{table:{defaultValue:{summary:"ReactNode"}},control:{type:null}}}},Menu=function Template(args){var source=(0,es.Xv)("/"),history=(0,es.fi)(source);return(0,jsx_runtime.jsx)(es.vR,{history:history,children:(0,jsx_runtime.jsxs)(MenuGroup_MenuGroup,(0,objectSpread2.Z)((0,objectSpread2.Z)({},args),{},{children:[(0,jsx_runtime.jsx)("a",{href:"/about",children:"About"}),(0,jsx_runtime.jsx)("a",{href:"/about/eligibility",children:"Eligibility"})]}))})}.bind({});Menu.storyName="Menu Group",Menu.args={menuText:"Menu Group Button",active:!1};var __namedExportsOrder=["Menu"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},decorators:function(){return decorators},globalTypes:function(){return globalTypes},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),react=__webpack_require__("./node_modules/react/index.js"),CssBaseline=__webpack_require__("./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),ThemeProvider=__webpack_require__("./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js"),i18next=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),context=__webpack_require__("./node_modules/react-i18next/dist/es/context.js"),esm=__webpack_require__("./node_modules/i18next-http-backend/esm/index.js"),i18nextBrowserLanguageDetector=__webpack_require__("./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js");i18next.ZP.use(esm.Z).use(i18nextBrowserLanguageDetector.Z).use(context.Db).init({backend:{loadPath:function loadPath(){return("cbiit.github.io"===window.location.hostname?"/ncippe-front-end/":"/")+"locales/{{lng}}/{{ns}}.json"}},whitelist:["en","es"],load:"languageOnly",fallbackLng:"en",debug:!1,ns:["common"],defaultNS:"common"});var _spacingXs,useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),createTheme=__webpack_require__("./node_modules/@material-ui/core/esm/styles/createTheme.js"),breakpoints=(0,__webpack_require__("./node_modules/@material-ui/core/styles/createBreakpoints.js").ZP)({}),theme=(0,createTheme.Z)({breakpoints:{keys:["xs","sm","smLandscape","md","lg","xl"],values:{xs:0,sm:600,smLandscape:880,md:960,lg:1280,xl:1920}},palette:{primary:{main:"#1e6fd6",light:"#e7f2ff",medium:"#d2e2f7",dark:"#194F93",lightGrey:"#f2f5f8"},error:{main:"#d63e04",light:"#fdeae2",dark:"#b53500",text:"#d83d00"},success:{main:"#04c585",light:"#e3fcf3"},pink:{main:"#ffcfdd",light:"#ffebf1"},gold:{main:"#ffb73d",light:"#fff3c1"},navy:{dark:"#0d1c3c"},grey:{xlight:"#fafafa",light:"#cfd2d8",medium:"#707070"}},gradients:{primary:"linear-gradient(#d2e2f7, #facfdc)",blue:"linear-gradient(#d2e2f7, rgba(255,255,255,0))",lightBlue:"linear-gradient(#eff4fb, rgba(255,255,255,0) 20%)",blueReverse:"linear-gradient(rgba(255,255,255,0), #f0f5fb)",primaryDiagonal:"linear-gradient(315deg, #FFEBF1 0%, #F3EEF6 51%, #E8F0FA 100%)"},shadows:["none","0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)","0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)","0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)","0 1px 18px 0 rgba(13,28,60,0.1)"],text:{primary:"#0d1c3c"},typography:{h1:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:"42px",lineHeight:"62px",paragraphHeight:"30px",letterSpacing:"-.4px"},h2:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:"26px",lineHeight:"42px",paragraphHeight:"20px",letterSpacing:"-.4px"},h3:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:"20px",lineHeight:"32px",paragraphHeight:"20px",letterSpacing:0},h4:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:"16px",lineHeight:"26px",paragraphHeight:"20px",letterSpacing:".2"},h5:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:"16px",lineHeight:"26px",paragraphHeight:"20px",letterSpacing:".2"},h6:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif"},body1:{fontFamily:'"Open Sans", Montserrat, Helvetica, Arial, sans-serif',fontWeight:400,fontSize:"16px",lineHeight:"30px",paragraphHeight:"20px",letterSpacing:".46px"},body2:{fontFamily:'"Open Sans", Montserrat, Helvetica, Arial, sans-serif',fontWeight:400,fontSize:"20px",lineHeight:"38px",paragraphHeight:"20px",letterSpacing:".47px"},button:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:600,fontSize:"16px",lineHeight:"26px",paragraphHeight:"20px",letterSpacing:"1px",textTransform:"none"}},overrides:{MuiCssBaseline:{"@global":{body:{fontFamily:'"Open Sans", Montserrat, Helvetica, Arial, sans-serif',fontWeight:400,fontSize:"16px",lineHeight:"30px",paragraphHeight:"20px",letterSpacing:".46px",backgroundColor:"#fff"}}},MuiOutlinedInput:{notchedOutline:{borderColor:"#656565",borderWidth:"2px"}},MuiBadge:{root:{width:"100%",height:"100%",verticalAlign:"top",position:"static",display:"block"},badge:{borderRadius:"0 0 6px 6px",padding:"8px 16px 6px",textTransform:"uppercase",backgroundColor:"#ffb73d",color:"#000",fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontSize:"16px",fontWeight:600,lineHeight:1,height:"auto"},anchorOriginTopRightRectangle:{right:"24px",transform:"none"}},MuiGrid:{"spacing-xs-8":(_spacingXs={width:"calc(100% + 32px)",margin:"-16px"},(0,defineProperty.Z)(_spacingXs,breakpoints.up("sm"),{width:"calc(100% + 48px)",margin:"-24px"}),(0,defineProperty.Z)(_spacingXs,breakpoints.up("md"),{width:"calc(100% + 64px)",margin:"-32px"}),_spacingXs)},MuiDialogTitle:{root:{padding:"24px 24px 0 24px"}},MuiDialogActions:{root:{justifyContent:"flex-start",padding:"24px"}},MuiStepper:{root:{marginTop:"16px",backgroundColor:"transparent"}},MuiStepLabel:{vertical:{alignItems:"flex-start","& .MuiStepLabel-iconContainer":{position:"relative",top:7}}},MuiDivider:{root:{height:"2px"}},MuiChip:{root:{letterSpacing:".03rem"}},MuiTableCell:{root:{fontSize:".875rem",lineHeight:"1.5rem"},head:{fontWeight:600}},MuiTablePagination:{caption:{fontSize:".875rem",lineHeight:"1.5rem"}}}}),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");window.$role="Public";var useStyles=(0,makeStyles.Z)((function(theme){return{main:{flex:"1 0 auto",margin:"0"}}}),{name:"App"}),App=function App(props){var classes=useStyles(),i18n=(0,useTranslation.$)().i18n;return(0,react.useEffect)((function(){props.lang!==i18n.language&&i18n.changeLanguage(props.lang)}),[props.lang,i18n]),(0,jsx_runtime.jsxs)(ThemeProvider.Z,{theme:theme,children:[(0,jsx_runtime.jsx)(CssBaseline.ZP,{}),(0,jsx_runtime.jsxs)("div",{className:"siteWrapper",children:[" ",(0,jsx_runtime.jsx)("div",{id:"main",className:classes.main,role:"main",children:props.children})]})]})};App.__docgenInfo={description:"The main app wrapper with analytics tracking removed",methods:[],displayName:"App"};var AppWrapper=App;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/Layout/AppWrapper.js"]={name:"App",docgenInfo:App.__docgenInfo,path:"src/stories/Layout/AppWrapper.js"});var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{expanded:!0},viewMode:"docs"},globalTypes={locale:{name:"Locale",description:"Internationalization locale",defaultValue:"en",toolbar:{icon:"globe",items:[{value:"en",right:"",title:"English"},{value:"es",right:"",title:"Espaol"}]}}},decorators=[function(Story,_ref){var locale=_ref.globals.locale;return(0,jsx_runtime.jsx)(react.Suspense,{fallback:(0,jsx_runtime.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100vw",height:"50vh"},children:"Loading..."}),children:(0,jsx_runtime.jsx)(AppWrapper,{lang:locale,children:(0,jsx_runtime.jsx)(Story,{})})})}],__namedExportsOrder=["parameters","globalTypes","decorators"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/components/AddParticipant/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return AddParticipant}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),initialState={patientId:null,firstName:"",lastName:"",email:"",lang:null,file:null,updateUser_error:!1,upload_error:!1,activate_error:!1,navigate:null},AddParticipantContext=(0,react.createContext)(),userReducer=function userReducer(state,action){switch(action.type){case"error":case"update":return(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),action.data);case"navigate":return(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},{navigate:action.data});case"reset":return(0,objectSpread2.Z)({},initialState);default:throw new Error("Unexpected action")}},AddParticipantProvider=function AddParticipantProvider(props){var data=(0,react.useReducer)(userReducer,initialState);return(0,jsx_runtime.jsx)(AddParticipantContext.Provider,{value:data,children:props.children})};AddParticipantContext.Consumer;AddParticipantProvider.__docgenInfo={description:"",methods:[],displayName:"AddParticipantProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/AddParticipant.context.js"]={name:"AddParticipantProvider",docgenInfo:AddParticipantProvider.__docgenInfo,path:"src/components/AddParticipant/AddParticipant.context.js"});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useMediaQuery=__webpack_require__("./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js"),Dialog=__webpack_require__("./node_modules/@material-ui/core/esm/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),DialogContent=__webpack_require__("./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js"),Paper=__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js"),DialogActions=__webpack_require__("./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js"),Button=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),useTheme=__webpack_require__("./node_modules/@material-ui/core/esm/styles/useTheme.js"),Clear=__webpack_require__("./node_modules/@material-ui/icons/esm/Clear.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),pubsub=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_default=__webpack_require__.n(pubsub),es=__webpack_require__("./node_modules/@reach/router/es/index.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),data=__webpack_require__("./src/data/index.js"),Login_context=__webpack_require__("./src/components/login/Login.context.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Stepper=__webpack_require__("./node_modules/@material-ui/core/esm/Stepper/Stepper.js"),Step=__webpack_require__("./node_modules/@material-ui/core/esm/Step/Step.js"),StepLabel=__webpack_require__("./node_modules/@material-ui/core/esm/StepLabel/StepLabel.js"),useStyles=(0,makeStyles.Z)((function(theme){return{stepper:(0,defineProperty.Z)({marginTop:theme.spacing(2),backgroundColor:"transparent"},"@media (max-width: 799px)",{marginTop:0,padding:theme.spacing(2,0)}),step:(0,defineProperty.Z)({},"@media (max-width: 799px)",{marginBottom:8})}}),{name:"WorkflowStepper"}),WorkflowStepper=function WorkflowStepper(props){var _props$activeStep=props.activeStep,activeStep=void 0===_props$activeStep?0:_props$activeStep,classes=useStyles(),t=(0,useTranslation.$)("a_landingMocha").t,orientation=(0,useMediaQuery.Z)("@media (max-width: 799px)")?"vertical":"horizontal",labelOrientation=!(0,useMediaQuery.Z)("@media (max-width: 799px)"),stepText=[t("stepper.0.label"),t("stepper.1.label")];return(0,jsx_runtime.jsx)(Stepper.Z,{className:"".concat(classes.stepper," Stepper--small-labels"),activeStep:activeStep,alternativeLabel:labelOrientation,orientation:orientation,children:stepText.map((function(text,i){return(0,jsx_runtime.jsx)(Step.Z,{className:classes.step,children:(0,jsx_runtime.jsx)(StepLabel.Z,{children:text})},i)}))})};WorkflowStepper.__docgenInfo={description:"",methods:[],displayName:"WorkflowStepper"};var AddParticipant_WorkflowStepper=WorkflowStepper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/WorkflowStepper.js"]={name:"WorkflowStepper",docgenInfo:WorkflowStepper.__docgenInfo,path:"src/components/AddParticipant/WorkflowStepper.js"});var TextField=__webpack_require__("./node_modules/@material-ui/core/esm/TextField/TextField.js"),InputGroupError=__webpack_require__("./src/components/inputs/InputGroupError/InputGroupError.js"),LangOption=__webpack_require__("./src/components/inputs/LangOption/LangOption.js"),Status=__webpack_require__("./src/components/Status/Status.js"),stringRegex=/^[a-zA-Z\s]{1,}/,emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,defaultValidations={firstName:!1,lastName:!1,email:!1,lang:!1},ParticipantInfo_useStyles=(0,makeStyles.Z)((function(theme){return{form:{display:"flex",flexDirection:"column"},textField:{width:"70%"}}}),{name:"ParticipantInfo"}),ParticipantInfo=function ParticipantInfo(props){var classes=ParticipantInfo_useStyles(),t=(0,useTranslation.$)(["a_addParticipant","a_common"]).t,_useContext=(0,react.useContext)(AddParticipantContext),_useContext2=(0,slicedToArray.Z)(_useContext,2),addParticipantContext=_useContext2[0],dispatch=_useContext2[1],_useState=(0,react.useState)(defaultValidations),_useState2=(0,slicedToArray.Z)(_useState,2),hasError=_useState2[0],setHasError=_useState2[1],initialRender=(0,react.useRef)(!0);(0,react.useEffect)((function(){initialRender.current?initialRender.current=!1:Object.values(hasError).includes(!0)||dispatch({type:"navigate",data:"submit"})}),[hasError,dispatch]);var handleOnChange=function handleOnChange(event){var field=event.target;dispatch({type:"update",data:(0,defineProperty.Z)({},field.id,field.value)})};return(0,jsx_runtime.jsxs)("form",{id:"activatePatient",className:classes.form,autoComplete:"off",onSubmit:function handleFormSubmit(e){e.preventDefault(),setHasError((function(prev){return{firstName:!stringRegex.test(addParticipantContext.firstName),lastName:!stringRegex.test(addParticipantContext.lastName),email:!emailRegex.test(addParticipantContext.email),lang:"string"!=typeof addParticipantContext.lang}}))},children:[(0,jsx_runtime.jsx)(TextField.Z,{error:hasError.firstName,required:!0,id:"firstName",label:t("form.firstName"),className:classes.textField,margin:"normal",variant:"outlined",onChange:handleOnChange,value:addParticipantContext.firstName,helperText:hasError.firstName&&t("form.error.firstName")}),(0,jsx_runtime.jsx)(TextField.Z,{error:hasError.lastName,required:!0,id:"lastName",label:t("form.lastName"),className:classes.textField,margin:"normal",variant:"outlined",onChange:handleOnChange,value:addParticipantContext.lastName,helperText:hasError.lastName&&t("form.error.lastName")}),(0,jsx_runtime.jsx)(TextField.Z,{error:hasError.email,required:!0,id:"email",label:t("form.email"),className:classes.textField,margin:"normal",variant:"outlined",onChange:handleOnChange,value:addParticipantContext.email,helperText:hasError.email&&t("form.error.email")}),(0,jsx_runtime.jsx)(InputGroupError.Z,{error:hasError.lang,errorMessage:t("form.lang.error"),children:(0,jsx_runtime.jsx)(LangOption.Z,{id:"lang",label:t("form.lang.label"),helperText:t("form.lang.helper_text"),editMode:!0,value:addParticipantContext.lang,onChange:function updateLang(lang){dispatch({type:"update",data:{lang:lang}})}})}),addParticipantContext.updateUser_error&&(0,jsx_runtime.jsx)(Status.Z,{state:"error",title:t("form.error.updateUser.title"),message:t("form.error.updateUser.message")})]})};ParticipantInfo.__docgenInfo={description:"",methods:[],displayName:"ParticipantInfo"};var AddParticipant_ParticipantInfo=ParticipantInfo;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/ParticipantInfo.js"]={name:"ParticipantInfo",docgenInfo:ParticipantInfo.__docgenInfo,path:"src/components/AddParticipant/ParticipantInfo.js"});var Grid=__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js"),IconButton=__webpack_require__("./node_modules/@material-ui/core/esm/IconButton/IconButton.js"),PictureAsPdf=__webpack_require__("./node_modules/@material-ui/icons/esm/PictureAsPdf.js"),FileItem_useStyles=(0,makeStyles.Z)((function(theme){return{fileToUpload:{margin:theme.spacing(1,0),maxWidth:"500px","& .MuiGrid-root":{flexWrap:"nowrap"}},fileToUpload_icon:{margin:theme.spacing(2,0,2,2)},fileToUpload_title:{fontWeight:theme.typography.fontWeightBold},fileToUpload_content:{margin:theme.spacing(2,2,2,1),flexGrow:1},fileToUpload_clear:{alignSelf:"center",marginRight:theme.spacing(1)}}}),{name:"FileItem"}),FileItem=function FileItem(props){var file=props.file,onRemove=props.onRemove,classes=FileItem_useStyles(),t=(0,useTranslation.$)("a_common").t;return(0,jsx_runtime.jsx)(Paper.Z,{className:classes.fileToUpload,elevation:25,children:(0,jsx_runtime.jsxs)(Grid.Z,{container:!0,children:[(0,jsx_runtime.jsx)(Grid.Z,{item:!0,className:classes.fileToUpload_icon,children:(0,jsx_runtime.jsx)(PictureAsPdf.Z,{})}),(0,jsx_runtime.jsxs)(Grid.Z,{item:!0,className:classes.fileToUpload_content,children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.fileToUpload_title,children:file.name}),(0,jsx_runtime.jsxs)(Typography.Z,{children:[t("components.fileItem.last_modified"),": ",moment_default()(file.lastModified).format("MMM DD, YYYY")]})]}),(0,jsx_runtime.jsx)(Grid.Z,{item:!0,className:classes.fileToUpload_clear,children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-label":t("aria.remove_file"),onClick:function handleRemoveFile(e){onRemove()},children:(0,jsx_runtime.jsx)(Clear.Z,{})})})]})})};FileItem.__docgenInfo={description:"",methods:[],displayName:"FileItem"};var FileItem_FileItem=FileItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileItem/FileItem.js"]={name:"FileItem",docgenInfo:FileItem.__docgenInfo,path:"src/components/FileItem/FileItem.js"});var AddConsent_useStyles=(0,makeStyles.Z)((function(theme){return{input:{display:"none"}}}),{name:"AddConsent"}),AddConsent=function AddConsent(props){var classes=AddConsent_useStyles(),t=(0,useTranslation.$)(["a_addParticipant","a_common"]).t,_useContext=(0,react.useContext)(AddParticipantContext),_useContext2=(0,slicedToArray.Z)(_useContext,2),addParticipantContext=_useContext2[0],dispatch=_useContext2[1],_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),fileError=_useState2[0],setFileError=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),fileTypeError=_useState4[0],setFileTypeError=_useState4[1];return(0,jsx_runtime.jsxs)("form",{id:"activatePatient",className:classes.form,autoComplete:"off",onSubmit:function handleFormSubmit(e){if(e.preventDefault(),addParticipantContext.file){if("application/pdf"!==addParticipantContext.file.type)return void setFileTypeError(!0);pubsub_default().publish("ANALYTICS",{events:"event78",eventName:"NewParticipantSubmit",prop42:"BioBank_NewParticipant|Submit",eVar42:"BioBank_NewParticipant|Submit"}),dispatch({type:"navigate",data:"submit"})}else setFileError(!0)},children:[addParticipantContext.file&&addParticipantContext.file.name&&(0,jsx_runtime.jsx)(FileItem_FileItem,{file:addParticipantContext.file,onRemove:function handleRemoveFile(){document.getElementById("report-upload-file").value=null,dispatch({type:"update",data:{file:null}})}}),(0,jsx_runtime.jsx)("input",{accept:".pdf",className:classes.input,id:"report-upload-file",type:"file",onChange:function handleFileChange(event){var file=event.currentTarget.files.item(0);file&&dispatch({type:"update",data:{file:file}})}}),!addParticipantContext.file&&(0,jsx_runtime.jsx)("label",{htmlFor:"report-upload-file",children:(0,jsx_runtime.jsx)(Button.Z,{className:classes.btnSelectReport,variant:"outlined",color:"primary",component:"span",children:t("form.consentFile")})}),fileError&&(0,jsx_runtime.jsx)(Status.Z,{state:"error",title:t("form.error.noFile.title"),message:t("form.error.noFile.message")}),fileTypeError&&(0,jsx_runtime.jsx)(Status.Z,{state:"error",title:t("form.error.fileType.title"),message:t("form.error.fileType.message")}),addParticipantContext.upload_error&&(0,jsx_runtime.jsx)(Status.Z,{state:"error",title:t("form.error.uploadFile.title"),message:t("form.error.uploadFile.message")})]})};AddConsent.__docgenInfo={description:"",methods:[],displayName:"AddConsent"};var AddParticipant_AddConsent=AddConsent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/AddConsent.js"]={name:"AddConsent",docgenInfo:AddConsent.__docgenInfo,path:"src/components/AddParticipant/AddConsent.js"});var Box=__webpack_require__("./node_modules/@material-ui/core/esm/Box/Box.js"),CircularProgress=__webpack_require__("./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js"),Progress_useStyles=(0,makeStyles.Z)((function(theme){return{title:{marginLeft:theme.spacing(3),display:"inline"}}}),{name:"Progress"}),Progress=function Progress(props){var classes=Progress_useStyles(),title=props.title;return(0,jsx_runtime.jsxs)(Box.Z,{children:[(0,jsx_runtime.jsx)(CircularProgress.Z,{size:70}),(0,jsx_runtime.jsx)(Typography.Z,{className:classes.title,variant:"h6",children:title})]})};Progress.__docgenInfo={description:"",methods:[],displayName:"Progress"};var Progress_Progress=Progress;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Progress/Progress.js"]={name:"Progress",docgenInfo:Progress.__docgenInfo,path:"src/components/Progress/Progress.js"});var Workflow_useStyles=(0,makeStyles.Z)((function(theme){return{paper:{position:"relative",padding:theme.spacing(4),marginBottom:theme.spacing(2),backgroundColor:theme.palette.success.light}}}),{name:"AddParticipantWorkflow"}),AddParticipantWorkflow=function AddParticipantWorkflow(props){var _props$open=props.open,open=void 0!==_props$open&&_props$open,setParentState=props.setParentState,_props$patient=props.patient,firstName=(_props$patient=void 0===_props$patient?{}:_props$patient).firstName,lastName=_props$patient.lastName,email=_props$patient.email,lang=_props$patient.lang,patientId=_props$patient.patientId,dateCreated=_props$patient.dateCreated,classes=Workflow_useStyles(),_useContext=(0,react.useContext)(AddParticipantContext),_useContext2=(0,slicedToArray.Z)(_useContext,2),addParticipantContext=_useContext2[0],dispatch=_useContext2[1],_useContext3=(0,react.useContext)(Login_context.Oj),_useContext4=(0,slicedToArray.Z)(_useContext3,2),loginContext=_useContext4[0],loginDispatch=_useContext4[1],token=loginContext.token,uuid=loginContext.uuid,patients=loginContext.patients,_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),activeStep=_useState2[0],setActiveStep=_useState2[1],t=(0,useTranslation.$)(["a_addParticipant","a_common"]).t,theme=(0,useTheme.Z)(),fullScreen=(0,useMediaQuery.Z)(theme.breakpoints.down("sm")),_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1],_useState5=(0,react.useState)(t("form.save")),_useState6=(0,slicedToArray.Z)(_useState5,2),submitText=_useState6[0],setSubmitText=_useState6[1];(0,react.useEffect)((function(){addParticipantContext.navigate&&handleNavigate(addParticipantContext.navigate)}),[addParticipantContext.navigate]),(0,react.useEffect)((function(){setIsOpen(open),dispatch({type:"update",data:{patientId:patientId,firstName:firstName,lastName:lastName,email:email,lang:lang}})}),[dispatch,open,patientId,firstName,lastName,email,lang]);var handleClose=function handleClose(e){var success=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setParentState?setParentState("boolean"==typeof success&&success):setIsOpen(!1),setTimeout((function(){handleNavigate("reset")}),200)},updatePatientList=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var activate,updatedPatients,_args=arguments;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:activate=_args.length>0&&void 0!==_args[0]&&_args[0],updatedPatients=patients.map((function(patient){return patient.patientId===patientId?activate?(0,objectSpread2.Z)((0,objectSpread2.Z)({},patient),{},{portalAccountStatus:"ACCT_ACTIVE"}):(0,objectSpread2.Z)((0,objectSpread2.Z)({},patient),{},{firstName:addParticipantContext.firstName,lastName:addParticipantContext.lastName,email:addParticipantContext.email,lang:addParticipantContext.lang}):patient})).sort((function(a,b){return a.lastName.localeCompare(b.lastName)})).sort((function(a,b){return"ACCT_NEW"===a.portalAccountStatus&&"ACCT_NEW"!==b.portalAccountStatus?-1:"ACCT_NEW"===b.portalAccountStatus&&"ACCT_NEW"!==a.portalAccountStatus?1:0})),loginDispatch({type:"accountActivated",patients:updatedPatients});case 3:case"end":return _context.stop()}}),_callee)})));return function updatePatientList(){return _ref.apply(this,arguments)}}(),handleNavigate=function handleNavigate(to){switch(to){case"dashboard":(0,es.c4)("/account");break;case"reset":setActiveStep(0),setSubmitText(t("form.save")),dispatch({type:"reset"});break;case"participantId":setActiveStep(0),setSubmitText(t("form.save"));break;case"addReport":setActiveStep(1),setSubmitText(t("form.submit"));break;case"submit":0===activeStep?(setActiveStep(2),function saveParticipantData(){data.Z.then((function(api){api.updateParticipantDetails({uuid:uuid,patient:{patientId:patientId,firstName:addParticipantContext.firstName,lastName:addParticipantContext.lastName,email:addParticipantContext.email,lang:addParticipantContext.lang}}).then((function(resp){if(resp instanceof Error)throw resp;dispatch({type:"navigate",data:"addReport"}),updatePatientList()})).catch((function(error){console.error(error),dispatch({type:"error",data:{updateUser_error:!0,navigate:"participantId"}})}))}))}()):1===activeStep&&(setActiveStep(2),function saveConsentForm(){data.Z.then((function(api){api.uploadPatientReport({patientId:addParticipantContext.patientId,uuid:uuid,reportFile:addParticipantContext.file,fileType:"PPE_FILETYPE_ECONSENT_FORM"}).then((function(resp){if(resp instanceof Error)throw resp;dispatch({type:"navigate",data:"finish"}),pubsub_default().publish("ANALYTICS",{events:"event80",eventName:"NewParticipantComplete",prop42:"BioBank_NewParticipant|Completed",eVar42:"BioBank_NewParticipant|Completed"})})).catch((function(error){console.error(error),dispatch({type:"error",data:{upload_error:!0,navigate:"addReport"}}),pubsub_default().publish("ANALYTICS",{events:"event81",eventName:"UploadError",prop42:"BioBank_ConsentUpload|Error: Failed to upload to server",eVar42:"BioBank_ConsentUpload|Error: Failed to upload to server"})}))}))}());break;case"finish":!function activateParticipant(){data.Z.then(function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(api){return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api.activateParticipant({uuid:uuid,token:token,patient:{patientId:patientId}});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}()).then((function(resp){if(resp instanceof Error)throw resp;updatePatientList(!0).then((function(){(0,es.c4)("/account/participant/".concat(patientId),{state:{newParticipantActivated:!0}})}))})).catch((function(error){console.error(error),dispatch({type:"error",data:{activate_error:!0,navigate:"addReport"}})}))}();break;default:console.error("form navigation step '".concat(to,"' not found"))}};return(0,jsx_runtime.jsxs)(Dialog.Z,{fullScreen:fullScreen,open:isOpen,onClose:handleClose,"aria-labelledby":"responsive-dialog-title",children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{id:"responsive-dialog-title",disableTypography:!0,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"h3",component:"h3",children:t("title")})}),(0,jsx_runtime.jsxs)(DialogContent.Z,{children:[(0,jsx_runtime.jsx)(Typography.Z,{children:t("subtitle")}),(0,jsx_runtime.jsx)(AddParticipant_WorkflowStepper,{activeStep:activeStep}),(0,jsx_runtime.jsxs)(Paper.Z,{elevation:25,className:classes.paper,children:[activeStep>=1&&(0,jsx_runtime.jsxs)(Typography.Z,{variant:"h3",children:[addParticipantContext.firstName," ",addParticipantContext.lastName]}),(0,jsx_runtime.jsxs)(Typography.Z,{variant:0===activeStep?"h3":"body1",children:[t("a_common:participant.id"),": ",patientId]}),(0,jsx_runtime.jsxs)(Typography.Z,{children:[t("a_common:participant.since")," ",moment_default()(dateCreated).format("MMM DD, YYYY")]})]}),0===activeStep&&(0,jsx_runtime.jsx)(AddParticipant_ParticipantInfo,{}),1===activeStep&&(0,jsx_runtime.jsx)(AddParticipant_AddConsent,{}),2===activeStep&&(0,jsx_runtime.jsx)(Progress_Progress,{title:t("progress")})]}),(0,jsx_runtime.jsxs)(DialogActions.Z,{children:[(0,jsx_runtime.jsx)(Button.Z,{color:"primary",variant:"contained",type:"submit",form:"activatePatient",children:submitText}),(0,jsx_runtime.jsxs)(Button.Z,{variant:"text",color:"primary",className:classes.btnCancel,onClick:handleClose,children:[(0,jsx_runtime.jsx)(Clear.Z,{}),t("a_common:buttons.cancel")]})]})]})};AddParticipantWorkflow.__docgenInfo={description:"",methods:[],displayName:"AddParticipantWorkflow"};var Workflow=AddParticipantWorkflow;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/Workflow.js"]={name:"AddParticipantWorkflow",docgenInfo:AddParticipantWorkflow.__docgenInfo,path:"src/components/AddParticipant/Workflow.js"});var WorkflowWithProvider=function WorkflowWithProvider(props){return(0,jsx_runtime.jsx)(AddParticipantProvider,{children:(0,jsx_runtime.jsx)(Workflow,(0,objectSpread2.Z)({},props))})};WorkflowWithProvider.__docgenInfo={description:"",methods:[],displayName:"WorkflowWithProvider"};var AddParticipant=WorkflowWithProvider;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddParticipant/index.js"]={name:"WorkflowWithProvider",docgenInfo:WorkflowWithProvider.__docgenInfo,path:"src/components/AddParticipant/index.js"})},"./src/components/FAQ/FAQ.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return components_FAQ_FAQ}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Accordion=__webpack_require__("./node_modules/@material-ui/core/esm/Accordion/Accordion.js"),AccordionSummary=__webpack_require__("./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),AccordionDetails=__webpack_require__("./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js"),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),RemoveRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/RemoveRounded.js"),AddRounded=__webpack_require__("./node_modules/@material-ui/icons/esm/AddRounded.js"),pubsub=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_default=__webpack_require__.n(pubsub),RenderContent=__webpack_require__("./src/components/utils/RenderContent.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function(theme){return{root:{margin:theme.spacing(3,0),"&.Mui-expanded":{margin:theme.spacing(3,0)},"& .MuiAccordionSummary-root":{position:"relative",backgroundImage:theme.gradients.primaryDiagonal,padding:"0 12px",alignItems:"flex-start","&.Mui-expanded":{margin:0,minHeight:"0 !important"},"& .MuiAccordionSummary-content":{order:1,zIndex:1,"&.Mui-expanded":{margin:"12px 0"}},"& .MuiAccordionSummary-expandIcon":{margin:"12px 0 0",zIndex:1,padding:"0 6px 0 0","&.Mui-expanded":{transform:"none"},"& svg":{color:theme.palette.grey[900],stroke:theme.palette.grey[900]}}},"& .MuiAccordionSummary-root::before":{content:'""',display:"block",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:0,animation:"transparentToWhite 300ms",animationFillMode:"both"},"& .Mui-focused::before":{animation:"whiteToPink 300ms both",outline:"1px solid #aaa"},"& .Mui-expanded::before":{animation:"whiteToTransparent 300ms both"},"& .MuiAccordionDetails-root":{display:"block","& > p":{marginBottom:16},"& > p:last-child":{marginBottom:0}}},panelDetails:{"& p:last-child":{marginBottom:0}}}}),{name:"FAQ"}),FAQ_FAQ=function FAQ(props){var classes=useStyles(),randomNum=Math.floor(1e3*Math.random())+1,_props$index=props.index,index=void 0===_props$index?randomNum:_props$index,title=props.title,desc=props.desc,_props$expanded=props.expanded,expanded=void 0!==_props$expanded&&_props$expanded,onClick=props.onClick,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isExpanded=_useState2[0],setIsExpanded=_useState2[1];(0,react.useEffect)((function(){setIsExpanded((function(){return onClick&&onClick(index,expanded),expanded}))}),[expanded,onClick,index]);return(0,jsx_runtime.jsxs)(Accordion.Z,{square:!0,expanded:isExpanded,onChange:function handleChange(){setIsExpanded((function(prev){return onClick&&onClick(index,!prev),!prev}))},className:classes.root,elevation:25,children:[(0,jsx_runtime.jsx)(AccordionSummary.Z,{expandIcon:isExpanded?(0,jsx_runtime.jsx)(RemoveRounded.Z,{}):(0,jsx_runtime.jsx)(AddRounded.Z,{}),onClick:function trackClick(){if(!isExpanded){var pageName=window.location.pathname.replace(/\//g,"-");pubsub_default().publish("ANALYTICS",{events:"event72",eventName:"FAQ",prop41:"BioBank|AccordianExpand|FAQ".concat(pageName,"-").concat(index)})}},"aria-controls":"faq-".concat(index,"-content"),id:"faq-".concat(index,"-header"),children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"h4",component:"h4",children:title})}),(0,jsx_runtime.jsx)(AccordionDetails.Z,{children:(0,jsx_runtime.jsx)(Typography.Z,{className:classes.panelDetails,component:"div",children:(0,jsx_runtime.jsx)(RenderContent.Z,{children:desc})})})]})};FAQ_FAQ.displayName="FAQ",FAQ_FAQ.__docgenInfo={description:"Create frequent asked question accordions",methods:[],displayName:"FAQ",props:{index:{description:"unique index of this FAQ item",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},title:{description:"text that appears in the FAQ header",type:{name:"string"},required:!0},desc:{description:"expanded content of this FAQ item as text, html or markdown",type:{name:"string"},required:!0},expanded:{description:"sets the expanded state of the accordion",type:{name:"bool"},required:!1},onClick:{description:"callback event on click of the FAQ header",type:{name:"func"},required:!1}}};var components_FAQ_FAQ=FAQ_FAQ;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FAQ/FAQ.js"]={name:"FAQ",docgenInfo:FAQ_FAQ.__docgenInfo,path:"src/components/FAQ/FAQ.js"})},"./src/components/FileList/FileListItem.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@material-ui/core/esm/Card/Card.js")),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@material-ui/core/esm/Badge/Badge.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@material-ui/core/esm/CardContent/CardContent.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@material-ui/core/esm/CardActions/CardActions.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@material-ui/core/esm/Button/Button.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@material-ui/icons/esm/Launch.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@material-ui/icons/esm/GetApp.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),pubsub_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/pubsub-js/src/pubsub.js"),pubsub_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(pubsub_js__WEBPACK_IMPORTED_MODULE_2__),_utils_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/utils/ConditionalWrapper.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.Z)((function(theme){var _cardAction;return{card:{position:"relative",justifyContent:"space-between",display:"flex",flexDirection:"column",marginBottom:theme.spacing(2),padding:theme.spacing(2,1)},cardAction:(_cardAction={justifyContent:"space-between",borderTop:"2px solid ".concat(theme.palette.grey[300]),margin:theme.spacing(0,2),padding:theme.spacing(2,0,0,0)},(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_cardAction,theme.breakpoints.down("xs"),{flexDirection:"column",alignItems:"flex-start","& > :not(:first-child)":{margin:0}}),(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_cardAction,theme.breakpoints.up("xs"),{"& a:last-of-type":{alignSelf:"flex-end"}}),_cardAction),gridItem:{width:"33.333333%","& $card":{height:"100%"}},icon:{marginRight:"4px"},badge:{display:"flex",flexDirection:"column",justifyContent:"space-between"}}}),{name:"FileListItem"}),FileListItem=function FileListItem(props){var file=props.file,noBadge=props.noBadge,_props$eventName=props.eventName,eventName=void 0===_props$eventName?"VIEW_DOCUMENT_ITEM":_props$eventName,classes=useStyles(),fileName=file.fileName,dateUploaded=file.dateUploaded,fileGUID=file.fileGUID,_file$viewedByUser=file.viewedByUser,viewedByUser=void 0!==_file$viewedByUser&&_file$viewedByUser,t=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.$)("a_common").t,handleViewFile=function handleViewFile(event){if(event.preventDefault(),pubsub_js__WEBPACK_IMPORTED_MODULE_2___default().publish(eventName,{file:file,download:event.currentTarget.dataset.download,linkText:event.target.textContent}),event.ctrlKey||event.metaKey)return!1};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.card,elevation:25,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_utils_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_8__.Z,{condition:!noBadge&&!viewedByUser,wrapper:function wrapper(children){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{className:classes.badge,badgeContent:t("badges.new_document"),component:"div",children:children})},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.Z,{className:"breakAll",variant:"h3",component:"h3",children:fileName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.Z,{children:[t("components.testResultItem.uploaded")," ",moment__WEBPACK_IMPORTED_MODULE_1___default()(dateUploaded).format("MMM DD, YYYY")]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.Z,{className:classes.cardAction,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.Z,{color:"primary",variant:"text","data-fileid":fileGUID,onClick:handleViewFile,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_icons__WEBPACK_IMPORTED_MODULE_14__.Z,{className:classes.icon})," ",t("buttons.view")]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.Z,{color:"primary",variant:"text","data-download":!0,"data-fileid":fileGUID,onClick:handleViewFile,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_icons__WEBPACK_IMPORTED_MODULE_15__.Z,{className:classes.icon})," ",t("buttons.download")]})]})]})})};FileListItem.displayName="FileListItem",FileListItem.__docgenInfo={description:"",methods:[],displayName:"FileListItem",props:{file:{description:"The file object to be rendered. Could be a Biomarker Report, Consent Form or Other Document",type:{name:"shape",value:{fileName:{name:"string",description:"The name of the file",required:!0},dateUploaded:{name:"number",description:"The `timestamp` date when this file was uploaded to the system",required:!0},fileGUID:{name:"string",description:"The unique identifier of this file",required:!0},viewedByUser:{name:"bool",description:'Flag if this files have been downloaded or viewed by the current user. If this file has not been viewed yet then it will have a "New Document" badge',required:!1}}},required:!1},noBadge:{description:"Override displaying a badge on this item",type:{name:"bool"},required:!1},eventName:{description:'The name of the event to be triggered when this file item is clicked on or "viewed"',type:{name:"string"},required:!1}}},__webpack_exports__.Z=FileListItem,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileList/FileListItem.js"]={name:"FileListItem",docgenInfo:FileListItem.__docgenInfo,path:"src/components/FileList/FileListItem.js"})},"./src/components/NoItems/NoItems.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js")),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_utils_RenderContent__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/utils/RenderContent.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.Z)((function(theme){return{statusGrid:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({flexWrap:"nowrap",marginTop:theme.spacing(4),"& > div:last-of-type":{maxWidth:"300px"}},theme.breakpoints.down("xs"),{flexDirection:"column",alignItems:"center"}),statusIcon:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({width:"140px"},theme.breakpoints.up("xs"),{marginRight:theme.spacing(3)}),statusText:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({fontWeight:"bold"},theme.breakpoints.down("xs"),{textAlign:"center"})}}),{name:"NoItems"}),NoItems=function NoItems(props){var _props$message=props.message,message=void 0===_props$message?"No items to display":_props$message,classes=useStyles();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.Z,{container:!0,className:classes.statusGrid,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.Z,{item:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img",{className:classes.statusIcon,src:"".concat(".","/assets/icons/empty-folder.svg"),alt:"empty folder icon","aria-hidden":"true"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.Z,{item:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{className:classes.statusText,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_utils_RenderContent__WEBPACK_IMPORTED_MODULE_1__.Z,{children:message})})})]})};NoItems.displayName="NoItems",NoItems.__docgenInfo={description:'Display a simple and reusable "No Items" message. This component is used for notifications, biomarker reports and consent forms',methods:[],displayName:"NoItems",props:{message:{description:"A message to display below the empty folder image",type:{name:"string"},required:!1}}},__webpack_exports__.Z=NoItems,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NoItems/NoItems.js"]={name:"NoItems",docgenInfo:NoItems.__docgenInfo,path:"src/components/NoItems/NoItems.js"})},"./src/components/Notifications/NotificationItem.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/core/esm/Card/Card.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/core/esm/Badge/Badge.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@material-ui/core/esm/CardContent/CardContent.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@material-ui/core/esm/Divider/Divider.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),_utils_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/utils/ConditionalWrapper.js"),_utils_RenderContent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/utils/RenderContent.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.Z)((function(theme){return{badge:{display:"block","& .MuiBadge-badge":{right:theme.spacing(3),transform:"none",borderRadius:"0 0 6px 6px",padding:theme.spacing(1,2),textTransform:"uppercase",backgroundColor:theme.palette.gold.main,color:theme.palette.common.black,fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontSize:"16px",fontWeight:600,lineHeight:"12px",height:"auto"},"& > div":{borderLeft:"10px solid #F6C674",paddingLeft:"calc(".concat(theme.spacing(7),"px - 10px)")}},card:{position:"relative",marginBottom:theme.spacing(2)},cardContent:{padding:theme.spacing(4,3,4,7),"&:last-child":{paddingBottom:theme.spacing(4)}},divider:{margin:theme.spacing(2,0)}}}),{name:"NotificationItem"}),NotificationItem=function NotificationItem(props){var _props$notification=props.notification,subject=(_props$notification=void 0===_props$notification?{}:_props$notification).subject,message=_props$notification.message,dateGenerated=_props$notification.dateGenerated,viewedByUser=_props$notification.viewedByUser,_props$lang=props.lang,lang=void 0===_props$lang?navigator.language:_props$lang,classes=useStyles();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.Z,{className:classes.card,elevation:25,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_utils_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_6__.Z,{condition:!viewedByUser,wrapper:function wrapper(children){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.badge,badgeContent:"new",component:"div",children:children})},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{className:classes.cardContent,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{variant:"h3",component:"h3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_utils_RenderContent__WEBPACK_IMPORTED_MODULE_2__.Z,{children:subject[lang]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{container:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.Z,{item:!0,xs:12,sm:4,md:2,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{children:moment__WEBPACK_IMPORTED_MODULE_1___default()(dateGenerated).format("MMM DD, YYYY")})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.Z,{className:classes.divider}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{component:"div",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_utils_RenderContent__WEBPACK_IMPORTED_MODULE_2__.Z,{children:message[lang]})})]})})})};NotificationItem.displayName="NotificationItem",NotificationItem.__docgenInfo={description:"A simple internal message notification displayed in a Material-UI Card",methods:[],displayName:"NotificationItem",props:{notification:{description:"The notification object",type:{name:"shape",value:{subject:{name:"shape",value:{en:{name:"string",description:"The subject text in English as text, html or markdown",required:!1},es:{name:"string",description:"The subject text in Spanish as text, html or markdown",required:!1}},description:"The subject line for the notification in English and/or Spanish",required:!1},message:{name:"shape",value:{en:{name:"string",description:"Multi-line message text in English as text, html or markdown",required:!1},es:{name:"string",description:"Multi-line message text in English as text, html or markdown",required:!1}},description:"The message content for the notification in English and/or Spanish",required:!1},dateGenerated:{name:"number",description:"The date this messages was sent as a raw `datestamp` number. The date format locale is set on login based on the user's language preference",required:!1},viewedByUser:{name:"union",value:[{name:"bool"},{name:"number"}],description:'Flag if this message has been viewed by the user. Possible values are `0` or `1` for some reason and evaluated in code as boolean. If `false` then this message will display a "new" badge',required:!1}}},required:!1},lang:{description:"The language this message should be viewed in. This value should be prop drilled down from a parent component with access to the User Context language settings.",type:{name:"enum",value:[{value:"'en'",computed:!1},{value:"'es'",computed:!1}]},required:!1}}},__webpack_exports__.Z=NotificationItem,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Notifications/NotificationItem.js"]={name:"NotificationItem",docgenInfo:NotificationItem.__docgenInfo,path:"src/components/Notifications/NotificationItem.js"})},"./src/components/PatientList/PatientListItem.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/core/esm/Badge/Badge.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@material-ui/core/esm/Chip/Chip.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_reach_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reach/router/es/index.js"),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.Z)((function(theme){return{paper:{position:"relative",padding:theme.spacing(4),marginBottom:theme.spacing(2),backgroundColor:theme.palette.common.white},Link:{textDecoration:"none"},name:{marginBottom:theme.spacing(1)},chip:{marginLeft:theme.spacing(1),fontWeight:"normal"},new:{backgroundColor:theme.palette.success.light},badges:{position:"absolute",top:0,right:24,display:"flex","& .MuiBadge-root":{width:"auto"},"& .MuiBadge-badge":{position:"relative",display:"block",right:0,marginLeft:theme.spacing(1)}},newBadge:{"& .MuiBadge-badge":{position:"relative",display:"block",right:0,marginLeft:theme.spacing(1),backgroundColor:theme.palette.success.main}}}}),{name:"PatientListItem"}),PatientListItem=function PatientListItem(props){var _props$patient=props.patient,firstName=_props$patient.firstName,lastName=_props$patient.lastName,email=_props$patient.email,_props$patient$lang=_props$patient.lang,lang=void 0===_props$patient$lang?"en":_props$patient$lang,patientId=_props$patient.patientId,dateCreated=_props$patient.dateCreated,_props$patient$isActi=_props$patient.isActiveBiobankParticipant,isActiveBiobankParticipant=void 0===_props$patient$isActi||_props$patient$isActi,portalAccountStatus=_props$patient.portalAccountStatus,hasNewFiles=props.patient.hasNewReports||props.patient.hasNewDocuments,classes=useStyles(),t=(0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.$)("a_common").t;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_reach_router__WEBPACK_IMPORTED_MODULE_1__.rU,{className:classes.Link,onClick:function handleClick(event){"ACCT_NEW"===portalAccountStatus&&(event.preventDefault(),props.activate({firstName:firstName,lastName:lastName,email:email,lang:lang,patientId:patientId,dateCreated:dateCreated}))},to:"/account/participant/".concat(patientId),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{className:"".concat(classes.paper," ").concat("ACCT_NEW"===portalAccountStatus&&classes.new),elevation:25,children:[(hasNewFiles||!1===isActiveBiobankParticipant||"ACCT_NEW"!==portalAccountStatus||"ACCT_TERMINATED_AT_PPE"!==portalAccountStatus)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:classes.badges,children:[hasNewFiles&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.badge,badgeContent:t("badges.new_document")}),!1===isActiveBiobankParticipant&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.badge,color:"error",badgeContent:t("badges.not_participating")}),"ACCT_TERMINATED_AT_PPE"===portalAccountStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.badge,color:"error",badgeContent:t("badges.terminated")}),"ACCT_NEW"===portalAccountStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{className:classes.newBadge,badgeContent:t("badges.new_participant")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{className:classes.name,variant:"h3",component:"h3",children:firstName?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[firstName," ",lastName," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{className:classes.chip,size:"small",label:patientId})]}):"".concat(t("participant.id"),": ").concat(patientId)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{children:[t("participant.since")," ",moment__WEBPACK_IMPORTED_MODULE_2___default()(dateCreated).format("MMM DD, YYYY")]})]})})};PatientListItem.displayName="PatientListItem",PatientListItem.__docgenInfo={description:'Render\'s a Participant card that usually appears in a PatientList component. When clicked, the user will be directed to the ParticipantView component. If the patient data contains `portalAccountStatus="ACCT_NEW"`, then clicking the card will trigger the AddParticipantInfoDialog component to activate this participant.',methods:[],displayName:"PatientListItem",props:{patient:{description:"The patient data for the listing card. This is typically stored in the LoginContext for a Provider or CRC.",type:{name:"shape",value:{firstName:{name:"string",description:"The participant's first name",required:!1},lastName:{name:"string",description:"The participant's last name",required:!1},email:{name:"string",description:"The participant's email, used by the `AddParticipantInfoDialog` component",required:!1},lang:{name:"string",description:"The participant's preferred language, used by the `AddParticipantInfoDialog` component",required:!1},patientId:{name:"string",description:"The participant's id, used as a visual reference and by the `AddParticipantInfoDialog` component",required:!1},dateCreated:{name:"number",description:"The `timestamp` date when this participant was added to the portal",required:!1},hasNewFiles:{name:"bool",description:'Flag if this participant has new biomarker reports or new documents. Will display a yellow "new document" chip',required:!1},isActiveBiobankParticipant:{name:"bool",description:'Flag if this participant is no longer participating in the program. Will display an orange "not participating" chip',required:!1},portalAccountStatus:{name:"enum",value:[{value:"null",computed:!1},{value:"'ACCT_NEW'",computed:!1},{value:"'ACCT_TERMINATED_AT_PPE'",computed:!1},{value:"'ACCT_ACTIVE'",computed:!1}],description:"Flag if this participant is either new to the system or has terminated their account. The whole card becomes green and displays a green \"New Participant\" chip if 'ACCT_NEW'.",required:!1}}},required:!1}}},__webpack_exports__.Z=PatientListItem,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PatientList/PatientListItem.js"]={name:"PatientListItem",docgenInfo:PatientListItem.__docgenInfo,path:"src/components/PatientList/PatientListItem.js"})},"./src/components/Status/Status.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/core/esm/Grid/Grid.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/icons/esm/CheckCircle.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/icons/esm/Warning.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/icons/esm/Error.js"),_material_ui_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/icons/esm/Info.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),statusTheme={success:{color:"#00a91c",background:"#ecf3ec"},warning:{color:"#ffbe2e",background:"#faf3d1"},error:{color:"#d63e04",background:"#f4e3db"},info:{color:"#00bde3",background:"#e7f6f8"}},useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.Z)((function(theme){return{root:function root(props){return{border:"1px solid ".concat(statusTheme[props.state].color),borderLeftWidth:"10px",borderRadius:theme.shape.borderRadius,backgroundColor:statusTheme[props.state].background,flexWrap:"nowrap",margin:theme.spacing(2,0),maxWidth:props.fullWidth?"none":"500px",textAlign:"left"}},gridItem_icon:{margin:theme.spacing(2)},gridItem_text:{margin:theme.spacing(2,2,2,0)},icon:function icon(props){return{fill:statusTheme[props.state].color,fontSize:"2rem"}},title:{fontWeight:theme.typography.fontWeightBold}}}),{name:"Status"}),Status=function Status(props){var Icon,_props$state=props.state,state=void 0===_props$state?"info":_props$state,title=props.title,message=props.message,_props$fullWidth=props.fullWidth,classes=useStyles({state:state,fullWidth:void 0!==_props$fullWidth&&_props$fullWidth});switch(state){case"success":Icon=_material_ui_icons__WEBPACK_IMPORTED_MODULE_3__.Z;break;case"warning":Icon=_material_ui_icons__WEBPACK_IMPORTED_MODULE_4__.Z;break;case"error":Icon=_material_ui_icons__WEBPACK_IMPORTED_MODULE_5__.Z;break;default:Icon=_material_ui_icons__WEBPACK_IMPORTED_MODULE_6__.Z}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{container:!0,className:classes.root,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{item:!0,className:classes.gridItem_icon,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Icon,{className:classes.icon})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.Z,{item:!0,className:classes.gridItem_text,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{className:classes.title,children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.Z,{children:message})]})]})};Status.displayName="Status",Status.__docgenInfo={description:"Easily render status messages to users with useful feedback",methods:[],displayName:"Status",props:{state:{description:"The visual state of the status message",type:{name:"enum",value:[{value:"'success'",computed:!1},{value:"'warning'",computed:!1},{value:"'error'",computed:!1},{value:"'info'",computed:!1}]},required:!1},title:{description:"The title for this status message",type:{name:"string"},required:!0},message:{description:"The descriptive text that appears in the status message",type:{name:"string"},required:!0},fullWidth:{description:"Optionally set the component to 100% width",type:{name:"bool"},required:!1}}},__webpack_exports__.Z=Status,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Status/Status.js"]={name:"Status",docgenInfo:Status.__docgenInfo,path:"src/components/Status/Status.js"})},"./src/components/inputs/InputGroupError/InputGroupError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.Z)((function(theme){return{root:{"& .errorText":{display:"none",color:theme.palette.error.text,fontWeight:"bold"}},error:{borderLeft:"10px solid ".concat(theme.palette.error.main),padding:theme.spacing(0,2),marginTop:theme.spacing(1),"& .errorText":{display:"inline-block"}},column:{display:"inline-flex",flexDirection:"column"}}}),{name:"InputGroupError"}),InputGroupError=function InputGroupError(props){var classes=useStyles(),children=props.children,_props$error=props.error,error=void 0!==_props$error&&_props$error,_props$errorMessage=props.errorMessage,errorMessage=void 0===_props$errorMessage?"":_props$errorMessage,_props$variant=props.variant,variant=void 0!==_props$variant&&_props$variant,errorClass=error?classes.error:"",variantClass=variant?classes[variant]:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"".concat(classes.root," ").concat(errorClass," ").concat(variantClass),children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.Z,{className:"errorText",children:errorMessage})]})};InputGroupError.displayName="InputGroupError",InputGroupError.__docgenInfo={description:"This is a HoC for adding error messages to form fields",methods:[],displayName:"InputGroupError",props:{children:{description:"The input group that is wrapped by the error",type:{name:"node"},required:!0},error:{description:"The error state of this component. When `true` the errorMessage is displayed",type:{name:"bool"},required:!1},errorMessage:{description:"The error message displayed (after the form field) when there is an error",type:{name:"string"},required:!1},variant:{description:"An additional class to add to the component to provide layout options",type:{name:"string"},required:!1}}},__webpack_exports__.Z=InputGroupError,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/inputs/InputGroupError/InputGroupError.js"]={name:"InputGroupError",docgenInfo:InputGroupError.__docgenInfo,path:"src/components/inputs/InputGroupError/InputGroupError.js"})},"./src/components/inputs/LangOption/LangOption.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/core/esm/FormControl/FormControl.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/FormLabel/FormLabel.js"),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@material-ui/core/esm/FormHelperText/FormHelperText.js"),_material_ui_lab__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButtonGroup/ToggleButtonGroup.js"),_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.Z)((function(theme){return{formControl:{margin:theme.spacing(2,0,1,0),minWidth:"200px"},formLegend:{fontWeight:700,color:theme.palette.text.primary,transform:"none",marginBottom:theme.spacing(1)},toggleButtonGroup:{padding:theme.spacing(1,0,2),"& .MuiToggleButton-root":{color:theme.palette.primary.main,borderColor:theme.palette.primary.main,backgroundColor:theme.palette.common.white,padding:theme.spacing(0,3)},"& .MuiToggleButton-root:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"& .Mui-selected":{color:theme.palette.common.white,backgroundColor:theme.palette.primary.main},"& .Mui-selected:hover":{backgroundColor:theme.palette.primary.main}}}}),{name:"LanguagePreferences"}),LanguagePreferences=function LanguagePreferences(props){var t=(0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.$)(["a_accountSettings","a_common"]).t,_props$id=props.id,id=void 0===_props$id?"language-input":_props$id,label=props.label,helperText=props.helperText,value=props.value,_props$editMode=props.editMode,editMode=void 0!==_props$editMode&&_props$editMode,onChange=props.onChange,classes=useStyles(),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),_useState2=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),lang=_useState2[0],setLang=_useState2[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return setLang(value),setLang(value)}),[value]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.Z,{component:"fieldset",className:classes.formControl,children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z,{htmlFor:id,component:"legend",className:classes.formLegend,children:label}),editMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_7__.Z,{id:id,className:classes.toggleButtonGroup,value:lang,exclusive:!0,onChange:function handleChange(event){setLang(event.currentTarget.value),onChange&&onChange(event.currentTarget.value)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__.Z,{value:"en",children:t("profile.lang.english")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__.Z,{value:"es",children:t("profile.lang.spanish")})]}),helperText&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.Z,{id:"".concat(id,"-helper-text"),children:helperText})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{children:t("en"===lang?"profile.lang.english":"profile.lang.spanish")})]})};LanguagePreferences.displayName="LanguagePreferences",LanguagePreferences.__docgenInfo={description:"",methods:[],displayName:"LanguagePreferences",props:{id:{description:"The unique Id for this FormControl",type:{name:"string"},required:!1},label:{description:"The label text that goes with the form control",type:{name:"string"},required:!1},helperText:{description:"The helper text that appears under form control",type:{name:"string"},required:!1},value:{description:"The value of the toggle button",type:{name:"enum",value:[{value:"'en'",computed:!1},{value:"'es'",computed:!1}]},required:!1},editMode:{description:"Switched the component from an interactive form control to static text",type:{name:"bool"},required:!1},onChange:{description:"callback function when the control is toggled, passing the `value`",type:{name:"func"},required:!1}}},__webpack_exports__.Z=LanguagePreferences,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/inputs/LangOption/LangOption.js"]={name:"LanguagePreferences",docgenInfo:LanguagePreferences.__docgenInfo,path:"src/components/inputs/LangOption/LangOption.js"})},"./src/components/login/Login.context.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Oj:function(){return LoginContext}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),userInitialState={auth:!1,roleName:"public"},LoginContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(),userReducer=function userReducer(state,action){switch(action.type){case"update":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),action.userData);case"clearNewNotifications":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),{},{newNotificationCount:0});case"notificationsMarkAsRead":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),{},{notifications:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(state.notifications.map((function(notification){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},notification),{},{viewedByUser:1})})))});case"addPatientData":case"accountActivated":case"reportViewedByOther":case"documentViewedByOther":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),{},{patients:action.patients,patientsUpdated:Date.now()});case"reportViewedByPatient":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),{},{reports:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(action.files),newReportCount:action.newFileCount,hasNewReports:action.hasNewFiles});case"documentViewedByPatient":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},state),{},{otherDocuments:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(action.files),newDocumentCount:action.newFileCount,hasNewDocuments:action.hasNewFiles});case"reset":return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},userInitialState);default:throw new Error("Unexpected action")}},LoginProvider=function LoginProvider(props){var userData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(userReducer,userInitialState);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LoginContext.Provider,{value:userData,children:props.children})};LoginContext.Consumer;LoginProvider.__docgenInfo={description:"",methods:[],displayName:"LoginProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/login/Login.context.js"]={name:"LoginProvider",docgenInfo:LoginProvider.__docgenInfo,path:"src/components/login/Login.context.js"})},"./src/components/utils/ConditionalWrapper.js":function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.Z=function Wrapper(_ref){var condition=_ref.condition,wrapper=_ref.wrapper,children=_ref.children;return condition?wrapper(children):children}},"./src/components/utils/RenderContent.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react_markdown__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-markdown/lib/react-markdown.js")),rehype_raw__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rehype-raw/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),RenderContent=function RenderContent(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_markdown__WEBPACK_IMPORTED_MODULE_2__.D,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},props),{},{rehypePlugins:[rehype_raw__WEBPACK_IMPORTED_MODULE_4__.Z]}))};RenderContent.__docgenInfo={description:"",methods:[],displayName:"RenderContent"},__webpack_exports__.Z=RenderContent,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/utils/RenderContent.js"]={name:"RenderContent",docgenInfo:RenderContent.__docgenInfo,path:"src/components/utils/RenderContent.js"})},"./src/data/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js");__webpack_exports__.Z=__webpack_require__("./src/data eager recursive ^\\.\\/.*\\/api$")("./".concat(process.env.REACT_APP_API_PATH,"/api")).then((function(module){return module.api}))},"./src/data/local/api.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{api:function(){return api}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toArray_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toArray.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_data_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/data/utils.js"),_utils_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/utils.js"),query_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/query-string/index.js"),_excluded=["provider"],handleResponse=function handleResponse(resp){if(resp.ok){var contentType=resp.headers.get("content-type"),totalCount=resp.headers.get("x-total-count");return totalCount?resp.json().then((function(records){return{records:records,totalCount:totalCount}})):contentType&&-1!==contentType.indexOf("application/json")?resp.json():resp}throw new Error("Request rejected with status ".concat(resp.status,": ").concat(resp.statusText))},handlePromiseAllResponse=function handlePromiseAllResponse(resps){var errorMessage,data=[];if(resps.forEach((function(resp){resp instanceof Error?errorMessage?errorMessage.includes(resp.message)||(errorMessage+=" ".concat(resp.message)):errorMessage=resp.message:data.push(resp)})),errorMessage)throw new Error(errorMessage);return data},handleErrorMsg=function handleErrorMsg(message){return function(error){return console.error(error),message?"string"==typeof message?new Error(message):message:error.message}},handleError=function handleError(error){return console.error(error),error};function _fetchMockUsers(){return(_fetchMockUsers=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee(){var query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return query={_embed:["patients","providers","crcs","bsscs","mochaAdmins","admins","messengers"]},_context.next=3,fetch("/api/mockUsers/1?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query))).then(handleResponse).then((function(data){return(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.Bn)(data)})).catch(handleErrorMsg("Unable to fetch mock users"));case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _fetchToken(){return(_fetchToken=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee2(_ref){var uuid,email,id_token,userUUID_exists,userEmail_exists,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return uuid=_ref.uuid,email=_ref.email,id_token=_ref.id_token,console.log("fetchToken data sent to server:","\nuuid: ".concat(uuid),"\nemail: ".concat(email),"\nid_token: ".concat(id_token)),_context2.next=4,fetch("/api/users?uuid=".concat(uuid)).then(handleResponse).catch(handleError);case 4:if(userUUID_exists=_context2.sent,userEmail_exists=!1,userUUID_exists){_context2.next=10;break}return _context2.next=9,fetch("/api/users?email=".concat(email)).then(handleResponse).catch(handleError);case 9:userEmail_exists=_context2.sent;case 10:if((!userUUID_exists||userUUID_exists instanceof Error)&&(!userEmail_exists||userEmail_exists instanceof Error)){_context2.next=20;break}if(userUUID_exists){_context2.next=15;break}return userData=userEmail_exists,_context2.next=15,fetch("/api/".concat((0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.xc)(userData.userType),"/").concat(userData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.Lk)()})}).then((function(){console.info("%cpatch successful","color:#00bde3; background:#e7f6f8; display: block")}));case 15:return _context2.next=17,fetch("/api/token?singular=1").then(handleResponse).catch(handleError);case 17:return _context2.abrupt("return",_context2.sent);case 20:return _context2.abrupt("return",new Error("Invalid user."));case 21:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function fetchUser(_x2){return _fetchUser.apply(this,arguments)}function _fetchUser(){return(_fetchUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee3(_ref2){var uuid,patientId,email,adminId,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return uuid=_ref2.uuid,patientId=_ref2.patientId,email=_ref2.email,adminId=_ref2.adminId,_ref2.token,console.log("fetchUser data sent to server:","\nuuid: ".concat(uuid),"\npatientId: ".concat(patientId),"\nemail: ".concat(email)),query=uuid?{uuid:uuid}:patientId?{patientId:patientId}:{email:email},_context3.next=5,fetch("/api/users?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query))).then(handleResponse).then((function(data){if("ACCT_TERMINATED_AT_PPE"===data.portalAccountStatus)return new Error("This account has been closed");data.phoneNumber=(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.un)(data.phoneNumber),data.newNotificationCount=data.notifications?data.notifications.reduce((function(total,notification){return total+(notification.viewedByUser?0:1)}),0):0;var viewer=adminId||uuid,viewedReports=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.reports,viewer),viewedDocuments=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.otherDocuments,viewer),roleData={reports:viewedReports.files,newReportCount:viewedReports.newCount,hasNewReports:Boolean(viewedReports.newCount),otherDocuments:viewedDocuments.files,newDocumentCount:viewedDocuments.newCount,hasNewDocuments:Boolean(viewedDocuments.newCount)};if("ROLE_PPE_PARTICIPANT"===(data=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},data),roleData)).roleName&&data.provider){var _data=data,provider=_data.provider,rest=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_data,_excluded);data=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},rest),{},{providers:[provider]})}return data.patients&&data.patients.length>1&&(data.patients=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.$1)(data.patients)),data})).catch(handleErrorMsg("Unable to fetch user data based on query: ".concat(JSON.stringify(query))));case 5:return _context3.abrupt("return",_context3.sent);case 6:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function _updateUser(){return(_updateUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee4(_ref3){var uuid,data,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return uuid=_ref3.uuid,data=_ref3.data,_ref3.token,console.log("updateUser data sent to server:","\nuuid: ".concat(uuid),"\ndata: ".concat(JSON.stringify(data))),_context4.next=4,fetchUser({uuid:uuid});case 4:return userData=_context4.sent,_context4.next=7,fetch("/api/".concat((0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.xc)(userData.userType),"/").concat(userData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)}).then(handleResponse).then((function(resp){return resp})).catch(handleErrorMsg("Unable to save changes."));case 7:return _context4.abrupt("return",_context4.sent);case 8:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function uploadPatientReport(_x4){return _uploadPatientReport.apply(this,arguments)}function _uploadPatientReport(){return(_uploadPatientReport=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee5(_ref4){var patientId,uuid,reportFile,fileType,endpoint,newFile,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return patientId=_ref4.patientId,uuid=_ref4.uuid,reportFile=_ref4.reportFile,fileType=_ref4.fileType,endpoint="PPE_FILETYPE_BIOMARKER_REPORT"===fileType?"/api/reports":"/api/otherDocuments",newFile={uploadedBy:uuid,fileName:reportFile.name,uploadedFileType:fileType,description:"",dateUploaded:Date.now(),fileGUID:(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.Lk)()},console.log("uploadPatientReport data sent to server:","\nnewFile:",newFile),_context5.next=6,fetchUser({patientId:patientId});case 6:return userData=_context5.sent,newFile.patientId=userData.id,_context5.next=10,fetch(endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(newFile)}).then(handleResponse).then((function(resp){return resp})).catch(handleErrorMsg("Unable to upload file."));case 10:return _context5.abrupt("return",_context5.sent);case 11:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}function _notificationsMarkAsRead(){return(_notificationsMarkAsRead=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee6(_ref5){var uuid,userData,notifications,updatedNotifications,promises;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return uuid=_ref5.uuid,_context6.next=3,fetchUser({uuid:uuid});case 3:return userData=_context6.sent,_context6.next=6,fetch("/api/notifications?".concat((0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.xc)(userData.userType,!1),"=").concat(userData.id)).then(handleResponse).catch(handleError);case 6:return notifications=_context6.sent,updatedNotifications=notifications.map((function(notification){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},notification),{},{viewedByUser:1})})),console.log("notificationsMarkAsRead data sent to server:","\nupdatedNotifications:",updatedNotifications),promises=updatedNotifications.map((function(notification){return fetch("/api/notifications/".concat(notification.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(notification)}).then(handleResponse).catch(handleError)})),_context6.next=12,Promise.all(promises).then(handlePromiseAllResponse).catch(handleError);case 12:return _context6.abrupt("return",_context6.sent);case 13:case"end":return _context6.stop()}}),_callee6)})))).apply(this,arguments)}function fetchPatientReport(_x6){return _fetchPatientReport.apply(this,arguments)}function _fetchPatientReport(){return(_fetchPatientReport=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee7(_ref6){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _ref6.reportId,_context7.next=3,fetch("/assets/documents/important-document.pdf").then(handleResponse).catch(handleErrorMsg("Unable to fetch report."));case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}function _reportViewedBy(){return(_reportViewedBy=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee8(_ref7){var uuid,reportId,report,viewedBy,updatedReport;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return uuid=_ref7.uuid,reportId=_ref7.reportId,_context8.next=3,fetch("/api/reports?fileGUID=".concat(reportId,"&singular=1")).then(handleResponse).catch(handleError);case 3:return report=_context8.sent,viewedBy=report.viewedBy||[],updatedReport=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},report),{},{viewedBy:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(new Set([].concat((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(viewedBy),[uuid])))}),console.log("reportViewedBy data sent to server:","\nupdatedReport:",updatedReport),_context8.next=9,fetch("/api/reports/".concat(report.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(updatedReport)}).then(handleResponse).catch(handleErrorMsg("Unable to mark report as read."));case 9:return _context8.abrupt("return",_context8.sent);case 10:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}function _documentViewedBy(){return(_documentViewedBy=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee9(_ref8){var uuid,reportId,document,viewedBy,updatedDocument;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return uuid=_ref8.uuid,reportId=_ref8.reportId,_context9.next=3,fetch("/api/otherDocuments?fileGUID=".concat(reportId,"&singular=1")).then(handleResponse).catch(handleError);case 3:return document=_context9.sent,viewedBy=document.viewedBy||[],updatedDocument=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},document),{},{viewedBy:(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(new Set([].concat((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(viewedBy),[uuid])))}),console.log("documentViewedBy data sent to server:","\nupdatedDocument:",updatedDocument),_context9.next=9,fetch("/api/otherDocuments/".concat(document.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(updatedDocument)}).then(handleResponse).catch(handleErrorMsg("Unable to mark document as read."));case 9:return _context9.abrupt("return",_context9.sent);case 10:case"end":return _context9.stop()}}),_callee9)})))).apply(this,arguments)}function _withdrawUser(){return(_withdrawUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee10(_ref9){var uuid,patientId,qsAnsDTO,patientData,withdrawUpdates,questionsWithPatientId,qaUpdates,updatePatients,qaPromises;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return uuid=_ref9.uuid,patientId=_ref9.patientId,qsAnsDTO=_ref9.qsAnsDTO,_ref9.token,_context10.next=3,fetchUser({patientId:patientId});case 3:return patientData=_context10.sent,withdrawUpdates={isActiveBiobankParticipant:!1,dateDeactivated:new Date,lastRevisedUser:uuid},questionsWithPatientId=qsAnsDTO.map((function(q){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},q),{},{patientId:patientData.id})})),qaUpdates=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(questionsWithPatientId),console.log("withdrawUser data sent to server","\nwithdrawUpdates:",withdrawUpdates,"\nqaUpdates:",qaUpdates),updatePatients=fetch("/api/patients/".concat(patientData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(withdrawUpdates)}).then(handleResponse).catch(handleErrorMsg("Unable to withdraw the participant account.")),qaPromises=qaUpdates.map((function(question){return fetch("/api/questionAnswers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(question)}).then(handleResponse).catch(handleErrorMsg("Unable to save questions and answers."))})),_context10.abrupt("return",Promise.all([updatePatients].concat((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(qaPromises))).then(handlePromiseAllResponse).then((function(resp){var _resp=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toArray_js__WEBPACK_IMPORTED_MODULE_8__.Z)(resp),userData=_resp[0],rest=_resp.slice(1);return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},userData),{},{questionAnswers:rest})})).catch(handleError));case 11:case"end":return _context10.stop()}}),_callee10)})))).apply(this,arguments)}function _closeAccount(){return(_closeAccount=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee11(_ref10){var uuid,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return uuid=_ref10.uuid,_ref10.token,_context11.next=3,fetchUser({uuid:uuid});case 3:return userData=_context11.sent,_context11.next=6,fetch("/api/patients/".concat(userData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({portalAccountStatus:"ACCT_TERMINATED_AT_PPE"})}).then(handleResponse).catch(handleErrorMsg("Unable to close account."));case 6:return _context11.abrupt("return",_context11.sent);case 7:case"end":return _context11.stop()}}),_callee11)})))).apply(this,arguments)}function _updateParticipantDetails(){return(_updateParticipantDetails=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee12(_ref11){var uuid,patient,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return uuid=_ref11.uuid,patient=_ref11.patient,_ref11.token,_context12.next=3,fetchUser({patientId:patient.patientId});case 3:return userData=_context12.sent,_context12.next=6,fetch("/api/patients/".concat(userData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({updatedByUser:uuid,firstName:patient.firstName,lastName:patient.lastName,email:patient.email,lang:patient.lang})}).then(handleResponse).catch(handleErrorMsg("Unable to update participant information."));case 6:return _context12.abrupt("return",_context12.sent);case 7:case"end":return _context12.stop()}}),_callee12)})))).apply(this,arguments)}function _activateParticipant(){return(_activateParticipant=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee13(_ref12){var uuid,patient,userData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return uuid=_ref12.uuid,patient=_ref12.patient,_ref12.token,console.log("activateParticipant data sent to server","\npatient:",patient,"\nadmin uuid:",uuid),_context13.next=4,fetchUser({patientId:patient.patientId});case 4:return userData=_context13.sent,_context13.next=7,fetch("/api/patients/".concat(userData.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({updatedByUser:uuid,portalAccountStatus:"ACCT_ACTIVE"})}).then(handleResponse).catch(handleErrorMsg("Unable to activate participant account."));case 7:return _context13.abrupt("return",_context13.sent);case 8:case"end":return _context13.stop()}}),_callee13)})))).apply(this,arguments)}function _getHospitalList(){return(_getHospitalList=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee14(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,fetch("/api/hospitals/").then(handleResponse).catch(handleErrorMsg("Unable to fetch hospital list at this time."));case 2:return _context14.abrupt("return",_context14.sent);case 3:case"end":return _context14.stop()}}),_callee14)})))).apply(this,arguments)}function _getNewsEvents(){return(_getNewsEvents=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee15(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,fetch("/api/newsEvents/").then(handleResponse).catch(handleErrorMsg("Unable to fetch news & events at this time."));case 2:return _context15.abrupt("return",_context15.sent);case 3:case"end":return _context15.stop()}}),_callee15)})))).apply(this,arguments)}function _sendMessage(){return(_sendMessage=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee16(data){var userData,msgData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,fetchUser({uuid:data.uuid});case 2:return userData=_context16.sent,msgData=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},data),{},{dateSent:Date.now(),messageFrom:{userUUID:userData.uuid,firstName:userData.firstName,lastName:userData.lastName,email:userData.email}}),console.log("sendMessage data sent to server:","\naudiences: ".concat(msgData.audiences),"\nsubject: ".concat(JSON.stringify(msgData.subject)),"\nmessage: ".concat(JSON.stringify(msgData.message)),"\nmessageFrom: ".concat(JSON.stringify(msgData.messageFrom)),"\ndateSent: ".concat(JSON.stringify(msgData.dateSent))),_context16.next=7,fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(msgData)}).then(handleResponse).catch(handleErrorMsg("The server was unable to send messages."));case 7:return _context16.abrupt("return",_context16.sent);case 8:case"end":return _context16.stop()}}),_callee16)})))).apply(this,arguments)}function _getMessages(){return(_getMessages=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee17(_ref13){var uuid;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return uuid=_ref13.uuid,console.log("getMessages data from the server:","\nadmin uuid:",uuid),_context17.next=4,fetch("/api/messages?sentBy=".concat(uuid)).then(handleResponse).catch(handleErrorMsg("The server was unable to fetch messages."));case 4:return _context17.abrupt("return",_context17.sent);case 5:case"end":return _context17.stop()}}),_callee17)})))).apply(this,arguments)}var api={fetchMockUsers:function fetchMockUsers(){return _fetchMockUsers.apply(this,arguments)},fetchToken:function fetchToken(_x){return _fetchToken.apply(this,arguments)},loginUser:fetchUser,fetchUser:fetchUser,updateUser:function updateUser(_x3){return _updateUser.apply(this,arguments)},fetchPatientTestResults:fetchUser,fetchPatientReport:fetchPatientReport,fetchPatientFile:fetchPatientReport,uploadPatientReport:uploadPatientReport,uploadConsentForm:uploadPatientReport,notificationsMarkAsRead:function notificationsMarkAsRead(_x5){return _notificationsMarkAsRead.apply(this,arguments)},reportViewedBy:function reportViewedBy(_x7){return _reportViewedBy.apply(this,arguments)},documentViewedBy:function documentViewedBy(_x8){return _documentViewedBy.apply(this,arguments)},withdrawUser:function withdrawUser(_x9){return _withdrawUser.apply(this,arguments)},closeAccount:function closeAccount(_x10){return _closeAccount.apply(this,arguments)},updateParticipantDetails:function updateParticipantDetails(_x11){return _updateParticipantDetails.apply(this,arguments)},activateParticipant:function activateParticipant(_x12){return _activateParticipant.apply(this,arguments)},getHospitalList:function getHospitalList(){return _getHospitalList.apply(this,arguments)},getNewsEvents:function getNewsEvents(){return _getNewsEvents.apply(this,arguments)},sendMessage:function sendMessage(_x13){return _sendMessage.apply(this,arguments)},getMessages:function getMessages(_x14){return _getMessages.apply(this,arguments)}}},"./src/data/prod/api.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{api:function(){return api}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_data_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/data/utils.js"),_utils_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/utils.js"),query_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/query-string/index.js"),handleResponse=function handleResponse(resp){if(resp.ok){var contentType=resp.headers.get("content-type");return contentType&&-1!==contentType.indexOf("application/json")?resp.json():resp}throw new Error("Request rejected with status ".concat(resp.status,": ").concat(resp.statusText))},handleErrorMsg=function handleErrorMsg(message){return function(error){return console.error(error),message?"string"==typeof message?new Error(message):message:error.message}},handleError=function handleError(error){return console.error(error),error};function _fetchMockUsers(){return(_fetchMockUsers=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("/api/v1/users").then(handleResponse).catch(handleErrorMsg("Unable to fetch mock users"));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _fetchToken(){return(_fetchToken=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee2(_ref){var uuid,email,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return uuid=_ref.uuid,email=_ref.email,_ref.id_token,query={uuid:uuid,email:email},_context2.next=4,fetch("/api/v1/login?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{method:"POST",headers:{"Content-Type":"application/json"}}).then(handleResponse).catch(handleError);case 4:return _context2.abrupt("return",_context2.sent);case 5:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function _loginUser(){return(_loginUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee3(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,fetch("/api/v1/login",{method:"POST",headers:{"Content-Type":"text/html","access-control-allow-origin":"*"}}).then(handleResponse).then((function(data){if("ACCT_TERMINATED_AT_PPE"===data.portalAccountStatus)return new Error("This account has been closed");if(data.phoneNumber=(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.un)(data.phoneNumber),data.newNotificationCount=data.notifications?data.notifications.reduce((function(total,notification){return total+(notification.viewedByUser?0:1)}),0):0,"PPE_PARTICIPANT"===data.userType){var viewedReports=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.reports,data.uuid),viewedDocuments=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.otherDocuments,data.uuid),roleData={reports:viewedReports.files,newReportCount:viewedReports.newCount,hasNewReports:Boolean(viewedReports.newCount),otherDocuments:viewedDocuments.files,newDocumentCount:viewedDocuments.newCount,hasNewDocuments:Boolean(viewedDocuments.newCount)};data=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},data),roleData)}return data.patients&&data.patients.length>1&&(data.patients=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.$1)(data.patients)),data})).catch(handleErrorMsg("Unable to login user."));case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function fetchUser(_x2){return _fetchUser.apply(this,arguments)}function _fetchUser(){return(_fetchUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee4(_ref2){var uuid,patientId,email,adminId,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return uuid=_ref2.uuid,patientId=_ref2.patientId,email=_ref2.email,adminId=_ref2.adminId,_ref2.token,query={},"string"==typeof uuid&&(query.uuid=uuid),"string"==typeof patientId&&(query.patientId=patientId),"string"==typeof email&&(query.email=email),_context4.next=7,fetch("/api/v1/user?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).then((function(data){if("ACCT_TERMINATED_AT_PPE"===data.portalAccountStatus)return new Error("This account has been closed");data.phoneNumber=(0,_utils_utils__WEBPACK_IMPORTED_MODULE_3__.un)(data.phoneNumber),data.newNotificationCount=data.notifications?data.notifications.reduce((function(total,notification){return total+(notification.viewedByUser?0:1)}),0):0;var viewer=adminId||uuid,viewedReports=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.reports,viewer),viewedDocuments=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.G9)(data.otherDocuments,viewer),roleData={reports:viewedReports.files,newReportCount:viewedReports.newCount,hasNewReports:Boolean(viewedReports.newCount),otherDocuments:viewedDocuments.files,newDocumentCount:viewedDocuments.newCount,hasNewDocuments:Boolean(viewedDocuments.newCount)};return(data=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},data),roleData)).patients&&data.patients.length>1&&(data.patients=(0,_data_utils__WEBPACK_IMPORTED_MODULE_4__.$1)(data.patients)),data})).catch(handleErrorMsg("Unable to fetch user data based on query: ".concat(query,".")));case 7:return _context4.abrupt("return",_context4.sent);case 8:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function _updateUser(){return(_updateUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee5(_ref3){var uuid,data,phoneNumber,allowEmailNotification,lang,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return uuid=_ref3.uuid,data=_ref3.data,_ref3.token,phoneNumber=data.phoneNumber,allowEmailNotification=data.allowEmailNotification,lang=data.lang,query={phoneNumber:phoneNumber,allowEmailNotification:allowEmailNotification,preferredLanguage:lang},_context5.next=5,fetch("/api/v1/user/".concat(uuid,"?").concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to save changes."));case 5:return _context5.abrupt("return",_context5.sent);case 6:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}function uploadPatientReport(_x4){return _uploadPatientReport.apply(this,arguments)}function _uploadPatientReport(){return(_uploadPatientReport=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee6(_ref4){var patientId,uuid,reportFile,fileType,formData;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return patientId=_ref4.patientId,uuid=_ref4.uuid,reportFile=_ref4.reportFile,fileType=_ref4.fileType,_ref4.token,(formData=new FormData).append("uuid",uuid),formData.append("patientId",patientId),formData.append("reportFile",reportFile),formData.append("uploadedFileType",fileType),_context6.next=8,fetch("/api/patientReport",{method:"POST",headers:{"access-control-allow-origin":"*"},body:formData}).then(handleResponse).catch(handleErrorMsg("Unable to upload file."));case 8:return _context6.abrupt("return",_context6.sent);case 9:case"end":return _context6.stop()}}),_callee6)})))).apply(this,arguments)}function _notificationsMarkAsRead(){return(_notificationsMarkAsRead=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee7(_ref5){var uuid;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return uuid=_ref5.uuid,_ref5.token,_context7.next=3,fetch("/api/v1/user/".concat(uuid,"/notifications/mark-as-read"),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to mark notifications as read."));case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}function fetchPatientReport(_x6){return _fetchPatientReport.apply(this,arguments)}function _fetchPatientReport(){return(_fetchPatientReport=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee8(_ref6){var reportId;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return reportId=_ref6.reportId,_ref6.token,_context8.next=3,fetch("/api/patientReport/".concat(reportId),{headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to fetch report."));case 3:return _context8.abrupt("return",_context8.sent);case 4:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}function reportViewedBy(_x7){return _reportViewedBy.apply(this,arguments)}function _reportViewedBy(){return(_reportViewedBy=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee9(_ref7){var reportId;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _ref7.uuid,reportId=_ref7.reportId,_ref7.token,_context9.next=3,fetch("/api/patientReport/".concat(reportId,"/markAsRead"),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to mark notifications as read."));case 3:return _context9.abrupt("return",_context9.sent);case 4:case"end":return _context9.stop()}}),_callee9)})))).apply(this,arguments)}function _withdrawUser(){return(_withdrawUser=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee10(_ref8){var uuid,patientId,qsAnsDTO,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return uuid=_ref8.uuid,patientId=_ref8.patientId,qsAnsDTO=_ref8.qsAnsDTO,_ref8.token,query={patientId:patientId,updatedByUser:uuid},_context10.next=4,fetch("/api/v1/withdraw-user-participation?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{method:"POST",headers:{"Content-Type":"application/json","access-control-allow-origin":"*"},body:JSON.stringify(qsAnsDTO)}).then(handleResponse).catch(handleErrorMsg("Unable to withdraw participant account."));case 4:return _context10.abrupt("return",_context10.sent);case 5:case"end":return _context10.stop()}}),_callee10)})))).apply(this,arguments)}function _closeAccount(){return(_closeAccount=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee11(_ref9){var uuid;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return uuid=_ref9.uuid,_ref9.token,_context11.next=3,fetch("/api/v1/deactivate-user/".concat(uuid),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to close account."));case 3:return _context11.abrupt("return",_context11.sent);case 4:case"end":return _context11.stop()}}),_callee11)})))).apply(this,arguments)}function _updateParticipantDetails(){return(_updateParticipantDetails=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee12(_ref10){var uuid,patient,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return uuid=_ref10.uuid,_ref10.token,patient=_ref10.patient,query={updatedByUser:uuid,patientId:patient.patientId,firstName:patient.firstName,lastName:patient.lastName,emailId:patient.email,preferredLanguage:patient.lang},_context12.next=4,fetch("/api/v1/user/enter-new-participant-details?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to update participant information."));case 4:return _context12.abrupt("return",_context12.sent);case 5:case"end":return _context12.stop()}}),_callee12)})))).apply(this,arguments)}function _activateParticipant(){return(_activateParticipant=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee13(_ref11){var uuid,patient,query;return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return uuid=_ref11.uuid,_ref11.token,patient=_ref11.patient,query={updatedByUser:uuid,patientId:patient.patientId},_context13.next=4,fetch("/api/v1/user/invite-participant-to-portal?".concat(query_string__WEBPACK_IMPORTED_MODULE_0__.stringify(query)),{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to activate participant account."));case 4:return _context13.abrupt("return",_context13.sent);case 5:case"end":return _context13.stop()}}),_callee13)})))).apply(this,arguments)}function _getHospitalList(){return(_getHospitalList=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee14(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,fetch("/publicapi/v1/sites",{headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to fetch hospital list at this time."));case 2:return _context14.abrupt("return",_context14.sent);case 3:case"end":return _context14.stop()}}),_callee14)})))).apply(this,arguments)}function _getNewsEvents(){return(_getNewsEvents=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee15(){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,fetch("/publicapi/v1/newsEvents",{headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to fetch news & events at this time."));case 2:return _context15.abrupt("return",_context15.sent);case 3:case"end":return _context15.stop()}}),_callee15)})))).apply(this,arguments)}function _sendMessage(){return(_sendMessage=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee16(data){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,fetch("/api/v1/notifications",{method:"POST",headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"},body:JSON.stringify(data)}).then(handleResponse).catch(handleErrorMsg("The server was unable to send messages."));case 2:return _context16.abrupt("return",_context16.sent);case 3:case"end":return _context16.stop()}}),_callee16)})))).apply(this,arguments)}function _getMessages(){return(_getMessages=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee17(_ref12){return(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _ref12.uuid,_context17.next=3,fetch("/api/v1/notifications",{headers:{"Content-Type":"text/plain","access-control-allow-origin":"*"}}).then(handleResponse).catch(handleErrorMsg("Unable to fetch messages at this time."));case 3:return _context17.abrupt("return",_context17.sent);case 4:case"end":return _context17.stop()}}),_callee17)})))).apply(this,arguments)}var api={fetchMockUsers:function fetchMockUsers(){return _fetchMockUsers.apply(this,arguments)},fetchToken:function fetchToken(_x){return _fetchToken.apply(this,arguments)},loginUser:function loginUser(){return _loginUser.apply(this,arguments)},fetchUser:fetchUser,updateUser:function updateUser(_x3){return _updateUser.apply(this,arguments)},fetchPatientTestResults:fetchUser,fetchPatientReport:fetchPatientReport,fetchPatientFile:fetchPatientReport,uploadPatientReport:uploadPatientReport,uploadConsentForm:uploadPatientReport,notificationsMarkAsRead:function notificationsMarkAsRead(_x5){return _notificationsMarkAsRead.apply(this,arguments)},reportViewedBy:reportViewedBy,documentViewedBy:reportViewedBy,withdrawUser:function withdrawUser(_x8){return _withdrawUser.apply(this,arguments)},closeAccount:function closeAccount(_x9){return _closeAccount.apply(this,arguments)},updateParticipantDetails:function updateParticipantDetails(_x10){return _updateParticipantDetails.apply(this,arguments)},activateParticipant:function activateParticipant(_x11){return _activateParticipant.apply(this,arguments)},getHospitalList:function getHospitalList(){return _getHospitalList.apply(this,arguments)},getNewsEvents:function getNewsEvents(){return _getNewsEvents.apply(this,arguments)},sendMessage:function sendMessage(_x12){return _sendMessage.apply(this,arguments)},getMessages:function getMessages(_x13){return _getMessages.apply(this,arguments)}}},"./src/data/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$1:function(){return sortPatients},G9:function(){return filesViewedByUser}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");function filesViewedByUser(files,uuid,fileGUID){var result={files:[],newCount:0};return files&&(result.files=files.map((function(file){var viewedBy=file.viewedBy||[],isViewed=viewedBy.includes(uuid);return fileGUID&&file.fileGUID===fileGUID?(file.viewedBy=(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(new Set([].concat((0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(viewedBy),[uuid]))),file.viewedByUser=!0):(file.viewedByUser=isViewed,result.newCount+=isViewed?0:1),file}))),result}function sortPatients(patients){return patients.sort((function(a,b){return a.lastName.localeCompare(b.lastName)})).sort((function(a,b){return"ACCT_NEW"===a.portalAccountStatus&&"ACCT_NEW"!==b.portalAccountStatus?-1:"ACCT_NEW"===b.portalAccountStatus&&"ACCT_NEW"!==a.portalAccountStatus?1:0}))}},"./src/utils/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Bn:function(){return flatArray},Lk:function(){return createUUID},un:function(){return formatPhoneNumber},xc:function(){return getUserGroup}});var _Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),formatPhoneNumber=function formatPhoneNumber(number){var match=(""+number).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return match?"("+match[1]+") "+match[2]+"-"+match[3]:null},createUUID=function createUUID(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(c){return(c^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)}))},flatArray=function flatArray(object){return Object.keys(object).reduce((function(arr,key){return Array.isArray(object[key])?arr.concat.apply(arr,(0,_Users_alifr_GIT_ncippe_front_end_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object[key])):arr}),[])},getUserGroup=function getUserGroup(role){var list=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],suffix=list?"s":"Id";switch(role){case"PPE_PARTICIPANT":default:return"patient".concat(suffix);case"PPE_PROVIDER":return"provider".concat(suffix);case"PPE_CRC":return"crc".concat(suffix);case"PPE_BSSC":return"bssc".concat(suffix);case"PPE_MOCHA_ADMIN":return"mochaAdmin".concat(suffix);case"PPE_ADMIN":return"admin".concat(suffix)}}},"./src/stories/assets/css/storybook.css":function(){},"./src/data eager recursive ^\\.\\/.*\\/api$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./local/api":"./src/data/local/api.js","./prod/api":"./src/data/prod/api.js"};function webpackAsyncContext(req){return webpackAsyncContextResolve(req).then(__webpack_require__)}function webpackAsyncContextResolve(req){return Promise.resolve().then((function(){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}))}webpackAsyncContext.keys=function(){return Object.keys(map)},webpackAsyncContext.resolve=webpackAsyncContextResolve,webpackAsyncContext.id="./src/data eager recursive ^\\.\\/.*\\/api$",module.exports=webpackAsyncContext},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./components/AddParticipant/AddParticipant.stories.js":"./src/components/AddParticipant/AddParticipant.stories.js","./components/Breadcrumbs/Breadcrumbs.stories.js":"./src/components/Breadcrumbs/Breadcrumbs.stories.js","./components/DeactivatedQuestions/DeactivatedQuestions.stories.js":"./src/components/DeactivatedQuestions/DeactivatedQuestions.stories.js","./components/Editor/Editor.stories.js":"./src/components/Editor/Editor.stories.js","./components/ExpansionMenu/ExpansionMenu.stories.js":"./src/components/ExpansionMenu/ExpansionMenu.stories.js","./components/FAQ/FAQ.stories.js":"./src/components/FAQ/FAQ.stories.js","./components/FAQ_Group/FAQ_Group.stories.js":"./src/components/FAQ_Group/FAQ_Group.stories.js","./components/FileList/FileList.stories.js":"./src/components/FileList/FileList.stories.js","./components/FileList/FileListItem.stories.js":"./src/components/FileList/FileListItem.stories.js","./components/HospitalMap/HospitalMap.stories.js":"./src/components/HospitalMap/HospitalMap.stories.js","./components/IconCard/IconCard.stories.js":"./src/components/IconCard/IconCard.stories.js","./components/IconCardMedia/IconCardMedia.stories.js":"./src/components/IconCardMedia/IconCardMedia.stories.js","./components/Loading/Loading.stories.js":"./src/components/Loading/Loading.stories.js","./components/NoItems/NoItems.stories.js":"./src/components/NoItems/NoItems.stories.js","./components/Notifications/NotificationItem.stories.js":"./src/components/Notifications/NotificationItem.stories.js","./components/Notifications/Notifications.stories.js":"./src/components/Notifications/Notifications.stories.js","./components/PatientList/PatientList.stories.js":"./src/components/PatientList/PatientList.stories.js","./components/PatientList/PatientListItem.stories.js":"./src/components/PatientList/PatientListItem.stories.js","./components/Status/Status.stories.js":"./src/components/Status/Status.stories.js","./components/inputs/EmailOption/EmailOption.stories.js":"./src/components/inputs/EmailOption/EmailOption.stories.js","./components/inputs/InputGroupError/InputGroupError.stories.js":"./src/components/inputs/InputGroupError/InputGroupError.stories.js","./components/inputs/LangOption/LangOptions.stories.js":"./src/components/inputs/LangOption/LangOptions.stories.js","./components/inputs/PhoneNumber/PhoneNumber.stories.js":"./src/components/inputs/PhoneNumber/PhoneNumber.stories.js","./components/login/LoginButton/LoginButton.stories.js":"./src/components/login/LoginButton/LoginButton.stories.js","./components/region/Header/MenuGroup/MenuGroup.stories.js":"./src/components/region/Header/MenuGroup/MenuGroup.stories.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Introduction.stories.mdx":"./src/stories/Introduction.stories.mdx","./stories/architecture/Analytics.stories.mdx":"./src/stories/architecture/Analytics.stories.mdx","./stories/architecture/BuildConfig.stories.mdx":"./src/stories/architecture/BuildConfig.stories.mdx","./stories/architecture/Data.stories.mdx":"./src/stories/architecture/Data.stories.mdx","./stories/architecture/Packages.stories.mdx":"./src/stories/architecture/Packages.stories.mdx","./stories/architecture/Styling.stories.mdx":"./src/stories/architecture/Styling.stories.mdx","./stories/architecture/Utilities.stories.mdx":"./src/stories/architecture/Utilities.stories.mdx","./stories/architecture/i18n.stories.mdx":"./src/stories/architecture/i18n.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[526],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);